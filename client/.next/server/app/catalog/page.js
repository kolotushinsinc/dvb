(()=>{var e={};e.id=7043,e.ids=[7043],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},3917:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});var r=s(2125);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r.Z)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},3193:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>p,pages:()=>x,routeModule:()=>h,tree:()=>d});var r=s(3137),a=s(4647),l=s(4183),i=s.n(l),n=s(1775),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);s.d(t,o);let c=r.AppPageRouteModule,d=["",{children:["catalog",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,450)),"/Users/mikhailkolotushin/KolTech/projects/dvb/client/app/catalog/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,7613)),"/Users/mikhailkolotushin/KolTech/projects/dvb/client/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,1918,23)),"next/dist/client/components/not-found-error"]}],x=["/Users/mikhailkolotushin/KolTech/projects/dvb/client/app/catalog/page.tsx"],p="/catalog/page",m={require:s,loadChunk:()=>Promise.resolve()},h=new c({definition:{kind:a.x.APP_PAGE,page:"/catalog/page",pathname:"/catalog",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},8902:(e,t,s)=>{Promise.resolve().then(s.bind(s,3084))},3084:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>_});var r=s(80),a=s(9885),l=s(9006),i=s(3507),n=s(8384),o=s(7371),c=s(8626),d=s(7932),x=s(8931),p=s(4372),m=s(3727),h=s(9941),u=s(1440),g=s.n(u),y=s(1157),j=s(997),f=s(8632),v=s(5479),b=s(7372),N=s(4653),w=s(6467);let _=()=>{let[e,t]=(0,a.useState)({priceRange:[0,15e3],selectedCategories:[],selectedFilters:{},selectedCountries:[]}),{toggleFavorite:s,isFavorite:u,isLoggedIn:_,showAuthModal:k,setShowAuthModal:P}=(0,x.r)(),{categories:A,loading:q}=(0,p.L)(),{products:C,loading:$,error:E}=(0,m.r)(),I=(0,m.M)(C,A,e),M=async(e,t)=>{if(t.preventDefault(),t.stopPropagation(),!_){P(!0);return}try{await s(e._id);let t=u(e._id)?"Товар удален из избранного":"Товар добавлен в избранное";h.Am.success(t)}catch(e){h.Am.error("Не удалось добавить товар в избранное")}},T=e=>new Intl.NumberFormat("ru-RU").format(e)+" ₽";return(0,r.jsxs)("div",{className:"min-h-screen bg-cream-50",children:[r.jsx(l.default,{}),(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,r.jsxs)("div",{className:"mb-8",children:[r.jsx("h1",{className:"font-display text-3xl lg:text-4xl font-bold text-gray-900 mb-4",children:"Каталог товаров"}),(0,r.jsxs)("p",{className:"text-lg text-gray-600",children:["Найдено товаров: ",I&&Array.isArray(I)?I.length:0]})]}),(0,r.jsxs)("div",{className:"flex gap-8",children:[r.jsx(N.V,{categories:A,products:C,onFilterChange:e=>t(e)}),r.jsx("div",{className:"flex-1",children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:q||$?r.jsx(j.mA,{count:6}):E?r.jsx("div",{className:"col-span-full",children:r.jsx(f.F7,{onRetry:()=>window.location.reload()})}):I&&Array.isArray(I)&&I.length>0?I.map((e,t)=>r.jsx(y.SlideIn,{delay:50*t,children:(0,r.jsxs)("div",{className:"group bg-white rounded-2xl shadow-md hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 overflow-hidden",children:[(0,r.jsxs)("div",{className:"relative overflow-hidden bg-gray-100 h-64",children:[r.jsx(g(),{href:`/product/${e.slug}`,children:r.jsx(w.d,{src:e.mainImage||"/placeholder-product.jpg",alt:e.name,width:400,height:256,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"})}),(0,r.jsxs)("div",{className:"absolute top-4 left-4 flex flex-col space-y-2",children:[e.isBrandNew&&r.jsx("span",{className:"bg-green-500 text-white text-xs px-2 py-1 rounded-full font-semibold",children:"NEW"}),e.isOnSale&&r.jsx("span",{className:"bg-accent text-white text-xs px-2 py-1 rounded-full font-semibold",children:"-20%"})]}),(0,r.jsxs)("div",{className:"absolute top-4 right-4 flex flex-col space-y-2 opacity-0 group-hover:opacity-100 transform translate-x-4 group-hover:translate-x-0 transition-all duration-300",children:[r.jsx(n.z,{size:"icon",variant:"secondary",className:`w-10 h-10 rounded-full bg-white/90 backdrop-blur-sm hover:bg-white shadow-md ${u(e._id)?"text-red-500 hover:text-red-600":"text-gray-600 hover:text-red-500"}`,onClick:t=>M(e,t),children:r.jsx(o.Z,{className:`w-4 h-4 ${u(e._id)?"fill-current":""}`})}),r.jsx(b.i,{product:e,children:r.jsx(n.z,{size:"icon",variant:"secondary",className:"w-10 h-10 rounded-full bg-white/90 backdrop-blur-sm hover:bg-white shadow-md text-gray-600 hover:text-blue-500",onClick:e=>{e.preventDefault(),e.stopPropagation()},children:r.jsx(c.Z,{className:"w-4 h-4"})})})]}),r.jsx("div",{className:"absolute bottom-4 left-4",children:r.jsx("span",{className:"bg-white/90 backdrop-blur-sm text-gray-700 text-xs px-3 py-1 rounded-full font-medium",children:e.country})})]}),(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-xs text-gray-500 uppercase tracking-wide font-medium",children:e.categoryId?e.categoryId.name:e.category?e.category.name:""}),(0,r.jsxs)("div",{className:"flex items-center space-x-1",children:[r.jsx(d.Z,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),r.jsx("span",{className:"text-sm text-gray-600",children:e.rating||0}),(0,r.jsxs)("span",{className:"text-sm text-gray-400",children:["(",e.reviewsCount||0,")"]})]})]}),r.jsx(g(),{href:`/product/${e.slug}`,children:r.jsx("h3",{className:"font-heading text-lg font-bold text-gray-900 mb-3 group-hover:text-primary transition-colors",children:e.name})}),r.jsx("div",{className:"flex items-center justify-between",children:(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:"text-xl font-bold text-primary",children:T(e.price)}),e.originalPrice&&r.jsx("span",{className:"text-sm text-gray-500 line-through",children:T(e.originalPrice)})]})})]})]})},e._id)):(0,r.jsxs)("div",{className:"col-span-full text-center py-12",children:[r.jsx("p",{className:"text-gray-500 text-lg mb-4",children:"Товары не найдены"}),r.jsx("p",{className:"text-gray-400 text-sm",children:"Попробуйте изменить параметры фильтрации или обновить страницу"})]})})})]})]}),r.jsx(v.Q,{isOpen:k,onClose:()=>P(!1),message:"Для добавления товара в избранное необходимо войти в систему"}),r.jsx(i.default,{})]})}},450:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>i,__esModule:()=>l,default:()=>o});var r=s(7536);let a=(0,r.createProxy)(String.raw`/Users/mikhailkolotushin/KolTech/projects/dvb/client/app/catalog/page.tsx`),{__esModule:l,$$typeof:i}=a,n=a.default,o=n}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[6498,7001,7240,5298,1913,2451,1788,1590,4796,6037,1086,7372,6606,997,8632,4372,1747,6467],()=>s(3193));module.exports=r})();