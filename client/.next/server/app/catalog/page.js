(()=>{var e={};e.id=7043,e.ids=[7043],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},3917:(e,r,t)=>{"use strict";t.d(r,{Z:()=>a});var s=t(2125);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s.Z)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},3193:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>o.a,__next_app__:()=>m,originalPathname:()=>h,pages:()=>x,routeModule:()=>p,tree:()=>d});var s=t(3137),a=t(4647),l=t(4183),o=t.n(l),i=t(1775),n={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>i[e]);t.d(r,n);let c=s.AppPageRouteModule,d=["",{children:["catalog",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,450)),"/Users/mikhailkolotushin/KolTech/projects/dvb/client/app/catalog/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,1335)),"/Users/mikhailkolotushin/KolTech/projects/dvb/client/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,1918,23)),"next/dist/client/components/not-found-error"]}],x=["/Users/mikhailkolotushin/KolTech/projects/dvb/client/app/catalog/page.tsx"],h="/catalog/page",m={require:t,loadChunk:()=>Promise.resolve()},p=new c({definition:{kind:a.x.APP_PAGE,page:"/catalog/page",pathname:"/catalog",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},8902:(e,r,t)=>{Promise.resolve().then(t.bind(t,3084))},3084:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>_});var s=t(80),a=t(9885),l=t(9006),o=t(3507),i=t(8384),n=t(7371),c=t(8626),d=t(7932),x=t(9518),h=t(8931),m=t(8106),p=t(3727),u=t(9941),g=t(1440),f=t.n(g),b=t(1157),j=t(997),y=t(8632),v=t(5479),w=t(7372),N=t(4653),k=t(6467);let _=()=>{let[e,r]=(0,a.useState)({priceRange:[0,15e3],selectedCategories:[],selectedFilters:{},selectedCountries:[]}),{toggleFavorite:t,isFavorite:g,isLoggedIn:_,showAuthModal:P,setShowAuthModal:A}=(0,h.r)(),{categories:q,isLoading:C}=(0,m.L)(),{products:z,loading:Z,error:$}=(0,p.r)(),F=(0,p.M)(z,q,e),I=async(e,r)=>{if(r.preventDefault(),r.stopPropagation(),!_){A(!0);return}try{await t(e._id);let r=g(e._id)?"Товар удален из избранного":"Товар добавлен в избранное";u.Am.success(r)}catch(e){u.Am.error("Не удалось добавить товар в избранное")}},M=e=>new Intl.NumberFormat("ru-RU").format(e)+" ₽";return(0,s.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-cream-50 to-white",children:[s.jsx(l.Header,{}),(0,s.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[(0,s.jsxs)("div",{className:"mb-12 text-center md:text-left",children:[s.jsx("div",{className:"inline-block mb-4",children:s.jsx("span",{className:"text-sm text-charcoal-500 uppercase tracking-wider font-medium bg-secondary-50 px-3 py-1 rounded-full",children:"Все товары"})}),(0,s.jsxs)("h1",{className:"font-display text-3xl lg:text-5xl font-bold text-charcoal-800 mb-4 tracking-tight",children:["Каталог ",s.jsx("span",{className:"premium-text",children:"товаров"})]}),(0,s.jsxs)("p",{className:"text-lg text-charcoal-600 max-w-2xl md:mx-0 mx-auto",children:["Найдено товаров: ",s.jsx("span",{className:"font-semibold",children:F&&Array.isArray(F)?F.length:0})]})]}),(0,s.jsxs)("div",{className:"flex gap-8",children:[s.jsx(N.V,{categories:q,products:z,onFilterChange:e=>r(e)}),s.jsx("div",{className:"flex-1",children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-8",children:C||Z?Array.from({length:6}).map((e,r)=>s.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-secondary-100 h-[400px] flex items-center justify-center",children:s.jsx(j.Loader,{size:"lg",text:"Загрузка..."})},r)):$?s.jsx("div",{className:"col-span-full",children:s.jsx(y.F7,{onRetry:()=>window.location.reload()})}):F&&Array.isArray(F)&&F.length>0?F.map((e,r)=>s.jsx(b.SlideIn,{delay:50*r,children:(0,s.jsxs)("div",{className:"group bg-white rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-500 transform hover:-translate-y-2 overflow-hidden border border-secondary-100 premium-shadow",children:[(0,s.jsxs)("div",{className:"relative overflow-hidden bg-secondary-50 h-72",children:[s.jsx(f(),{href:`/product/${e.slug}`,children:s.jsx(k.d,{src:e.mainImage||"/placeholder-product.jpg",alt:e.name,width:500,height:280,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"})}),(0,s.jsxs)("div",{className:"absolute top-4 left-4 flex flex-col space-y-2",children:[e.isBrandNew&&s.jsx("span",{className:"bg-gradient-to-r from-gold-400 to-gold-600 text-white text-xs px-3 py-1 rounded-full font-semibold shadow-md",children:"НОВОЕ"}),e.isOnSale&&s.jsx("span",{className:"bg-gradient-to-r from-accent-500 to-accent-600 text-white text-xs px-3 py-1 rounded-full font-semibold shadow-md",children:"-20%"})]}),(0,s.jsxs)("div",{className:"absolute top-4 right-4 flex flex-col space-y-3 transition-all duration-300 opacity-0 group-hover:opacity-100 transform translate-x-4 group-hover:translate-x-0",children:[s.jsx(i.z,{size:"icon",variant:"secondary",className:`w-11 h-11 rounded-full bg-white/90 backdrop-blur-sm hover:bg-white shadow-lg hover:shadow-xl ${g(e._id)?"text-accent-500 hover:text-accent-600 hover:scale-110 transition-all duration-300":"text-charcoal-600 hover:text-accent-500 hover:scale-110 transition-all duration-300"}`,onClick:r=>I(e,r),children:s.jsx(n.Z,{className:`w-5 h-5 ${g(e._id)?"fill-current":""}`})}),s.jsx(w.i,{product:e,children:s.jsx(i.z,{size:"icon",variant:"secondary",className:"w-11 h-11 rounded-full bg-white/90 backdrop-blur-sm hover:bg-white shadow-lg hover:shadow-xl text-charcoal-600 hover:text-primary-500 hover:scale-110 transition-all duration-300",onClick:e=>{e.preventDefault(),e.stopPropagation()},children:s.jsx(c.Z,{className:"w-5 h-5"})})})]}),s.jsx("div",{className:"absolute bottom-4 left-4",children:s.jsx("span",{className:"bg-white/90 backdrop-blur-sm text-charcoal-700 text-xs px-4 py-1.5 rounded-full font-medium shadow-sm border border-white/50",children:e.country})})]}),(0,s.jsxs)("div",{className:"p-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("span",{className:"text-sm text-charcoal-500 uppercase tracking-wider font-medium bg-secondary-50 px-3 py-1 rounded-full",children:e.categoryId?e.categoryId.name:e.category?e.category.name:""}),(0,s.jsxs)("div",{className:"flex items-center space-x-1 bg-gold-50 px-2 py-1 rounded-full",children:[s.jsx(d.Z,{className:"w-4 h-4 fill-gold-500 text-gold-500"}),s.jsx("span",{className:"text-sm text-charcoal-700 font-medium",children:e.rating||4.5}),(0,s.jsxs)("span",{className:"text-sm text-charcoal-500",children:["(",e.reviewsCount||12,")"]})]})]}),s.jsx(f(),{href:`/product/${e.slug}`,children:s.jsx("h3",{className:"font-heading text-lg font-bold text-charcoal-800 mb-3 group-hover:text-primary-500 transition-colors line-clamp-2 h-14",children:e.name})}),(0,s.jsxs)("div",{className:"flex items-center justify-between mt-4 pt-4 border-t border-secondary-100",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"text-xl font-bold text-charcoal-800",children:M(e.price)}),e.originalPrice&&s.jsx("span",{className:"text-sm text-charcoal-500 line-through",children:M(e.originalPrice)})]}),s.jsx("div",{className:"w-8 h-8 rounded-full bg-primary-50 group-hover:bg-primary-100 flex items-center justify-center transition-all",children:s.jsx("span",{className:"text-sm text-primary-500 group-hover:text-primary-600",children:"→"})})]})]})]})},e._id)):s.jsx("div",{className:"col-span-full text-center py-16 bg-white rounded-2xl shadow-lg border border-secondary-100 premium-card",children:(0,s.jsxs)("div",{className:"max-w-md mx-auto",children:[s.jsx("div",{className:"w-20 h-20 bg-secondary-50 rounded-full flex items-center justify-center mx-auto mb-6",children:s.jsx(x.Z,{className:"w-10 h-10 text-secondary-300"})}),s.jsx("h3",{className:"text-2xl font-bold text-charcoal-800 mb-4",children:"Товары не найдены"}),s.jsx("p",{className:"text-charcoal-600 mb-8",children:"Попробуйте изменить параметры фильтрации или обновить страницу"}),s.jsx(i.z,{variant:"outline",onClick:()=>window.location.reload(),className:"border-2 border-secondary-200 hover:border-primary-300 px-6 py-2",children:"Обновить страницу"})]})})})})]})]}),s.jsx(v.Q,{isOpen:P,onClose:()=>A(!1),message:"Для добавления товара в избранное необходимо войти в систему"}),s.jsx(o.Footer,{})]})}},450:(e,r,t)=>{"use strict";t.r(r),t.d(r,{$$typeof:()=>o,__esModule:()=>l,default:()=>n});var s=t(7536);let a=(0,s.createProxy)(String.raw`/Users/mikhailkolotushin/KolTech/projects/dvb/client/app/catalog/page.tsx`),{__esModule:l,$$typeof:o}=a,i=a.default,n=i}};var r=require("../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[79,1714,7240,24,1913,2451,9807,1590,1260,7372,6606,8632,4653,3727,6467],()=>t(3193));module.exports=s})();