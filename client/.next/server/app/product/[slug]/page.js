(()=>{var e={};e.id=1599,e.ids=[1599],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9400:(e,s,r)=>{"use strict";r.r(s),r.d(s,{GlobalError:()=>o.a,__next_app__:()=>x,originalPathname:()=>h,pages:()=>m,routeModule:()=>p,tree:()=>n});var a=r(3137),t=r(4647),l=r(4183),o=r.n(l),c=r(1775),i={};for(let e in c)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>c[e]);r.d(s,i);let d=a.AppPageRouteModule,n=["",{children:["product",{children:["[slug]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,4412)),"/Users/mikhailkolotushin/KolTech/projects/dvb/client/app/product/[slug]/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,1335)),"/Users/mikhailkolotushin/KolTech/projects/dvb/client/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,1918,23)),"next/dist/client/components/not-found-error"]}],m=["/Users/mikhailkolotushin/KolTech/projects/dvb/client/app/product/[slug]/page.tsx"],h="/product/[slug]/page",x={require:r,loadChunk:()=>Promise.resolve()},p=new d({definition:{kind:t.x.APP_PAGE,page:"/product/[slug]/page",pathname:"/product/[slug]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:n}})},1624:(e,s,r)=>{Promise.resolve().then(r.bind(r,3507)),Promise.resolve().then(r.bind(r,9006)),Promise.resolve().then(r.bind(r,4662)),Promise.resolve().then(r.bind(r,997))},4662:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>O});var a=r(80),t=r(9885),l=r(7114),o=r(8384),c=r(999),i=r(7052),d=r(3917),n=r(5894),m=r(1910),h=r(1922),x=r(7932),p=r(8375),u=r(2385),g=r(7371),f=r(6386),b=r(3303),j=r(4901),v=r(1063),N=r(1264),y=r(8626),w=r(442),k=r(8931),P=r(9941),S=r(1440),_=r.n(S),z=r(7936),C=r(1157),Z=r(8632),I=r(5479),A=r(14),$=r(7372),E=r(1086);function O(){var e;let s=(0,l.useParams)(),r=s.slug,[S,O]=(0,t.useState)(null),[U,F]=(0,t.useState)(!0),[q,T]=(0,t.useState)(null),[D,L]=(0,t.useState)(0),[B,R]=(0,t.useState)(1),[K,G]=(0,t.useState)(""),[M,Y]=(0,t.useState)(""),[Q,X]=(0,t.useState)([]),[V,H]=(0,t.useState)(!1),{addItem:J,isInCart:W,items:ee}=(0,w.j)(),{isFavorite:es,toggleFavorite:er,showAuthModal:ea,setShowAuthModal:et}=(0,k.r)();(0,t.useEffect)(()=>{let e=async()=>{try{F(!0),console.log("Loading product with slug:",r);try{let e=await fetch(`https://api.dvberry.ru/api/products/${r}`);if(console.log("Direct API response status:",e.status),e.ok){let s=await e.json();console.log("Direct API response data:",s)}else console.error("Direct API call failed with status:",e.status)}catch(e){console.error("Direct API call error:",e)}let e=await z.h.products.getBySlug(r);console.log("Product response:",e),console.log("Product response type:",typeof e),console.log("Product response keys:",Object.keys(e||{}));let s=e;e&&!0===e.success&&e.data&&e.data.product&&(s=e.data.product,console.log("Using nested data.product format")),console.log("Final product data:",s),O(s),T(null);let a=await z.h.categories.getAll();console.log("Categories response:",a),console.log("Product category slug:",s.category?.slug);let t=a.find(e=>e.slug===s.category?.slug);console.log("Found category data:",t);let l=await z.h.products.getByCategory(s.category?.slug||""),o=l.filter(e=>e._id!==s._id).slice(0,4);X(o)}catch(e){T("Не удалось загрузить товар"),console.error("Product load error:",e),console.error("Error details:",e instanceof Error?e.message:e),console.error("Error stack:",e instanceof Error?e.stack:"No stack trace")}finally{F(!1)}};r&&e()},[r]),(0,t.useEffect)(()=>{console.log("Cart items changed:",ee),S&&console.log("Current product in cart:",W(S._id,K,M))},[ee,S,K,M,W]);let el=e=>{e<1||R(e)},eo=e=>new Intl.NumberFormat("ru-RU").format(e)+" ₽";return U?a.jsx("div",{className:"min-h-screen bg-gradient-to-b from-cream-50 to-white flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center bg-white p-10 rounded-2xl shadow-lg border border-secondary-100 premium-card",children:[a.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-primary-400 mx-auto"}),a.jsx("p",{className:"mt-6 text-lg text-charcoal-700 font-medium",children:"Загрузка товара..."})]})}):q||!S?a.jsx("div",{className:"min-h-screen bg-gradient-to-b from-cream-50 to-white",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:[a.jsx(Z.TX,{message:q||"Товар не найден"}),a.jsx("div",{className:"mt-8 text-center",children:a.jsx(_(),{href:"/catalog",children:a.jsx(o.z,{className:"bg-gradient-to-r from-primary-400 to-primary-500 hover:from-primary-500 hover:to-primary-600 text-primary-900 font-medium px-8 py-6 rounded-full shadow-lg hover:shadow-xl transition-all duration-300 border-none",children:"Вернуться в каталог"})})})]})}):(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-cream-50 to-white",children:[(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[a.jsx(C.FadeIn,{children:(0,a.jsxs)("div",{className:"flex items-center text-sm text-charcoal-500 mb-10",children:[a.jsx(_(),{href:"/",className:"hover:text-primary-500 transition-colors",children:"Главная"}),a.jsx("span",{className:"mx-2",children:"/"}),a.jsx(_(),{href:"/catalog",className:"hover:text-primary-500 transition-colors",children:"Каталог"}),a.jsx("span",{className:"mx-2",children:"/"}),a.jsx(_(),{href:`/catalog/${S.category?.slug||""}`,className:"hover:text-primary-500 transition-colors",children:S.category?.name||""}),a.jsx("span",{className:"mx-2",children:"/"}),a.jsx("span",{className:"text-charcoal-800 font-medium",children:S.name})]})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-16",children:[a.jsx(C.SlideIn,{direction:"left",children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"relative overflow-hidden bg-secondary-50 rounded-2xl h-96 md:h-[500px] shadow-lg border border-secondary-100 premium-shadow",children:[a.jsx(E.w,{src:S.images?.[D]?.url||S.mainImage||"/placeholder-product.jpg",thumbnailSrc:S.images?.[D]?.thumbnailUrl,alt:S.name,className:"w-full h-full object-cover"}),S.images&&S.images.length>1&&(0,a.jsxs)(a.Fragment,{children:[a.jsx(o.z,{variant:"ghost",size:"icon",className:"absolute left-4 top-1/2 transform -translate-y-1/2 bg-white/90 backdrop-blur-sm hover:bg-white rounded-full z-10 w-12 h-12 border border-primary-100 hover:border-primary-200 hover:scale-[1.03] transition-transform",onClick:()=>{S&&L(e=>(e-1+(S.images?.length||1))%(S.images?.length||1))},children:a.jsx(m.Z,{className:"w-5 h-5 text-charcoal-700"})}),a.jsx(o.z,{variant:"ghost",size:"icon",className:"absolute right-4 top-1/2 transform -translate-y-1/2 bg-white/90 backdrop-blur-sm hover:bg-white rounded-full z-10 w-12 h-12 border border-primary-100 hover:border-primary-200 hover:scale-[1.03] transition-transform",onClick:()=>{S&&L(e=>(e+1)%(S.images?.length||1))},children:a.jsx(h.Z,{className:"w-5 h-5 text-charcoal-700"})})]}),(0,a.jsxs)("div",{className:"absolute top-4 left-4 flex flex-col space-y-2 z-10",children:[S.isBrandNew&&a.jsx("span",{className:"bg-gradient-to-r from-gold-400 to-gold-600 text-white text-xs px-3 py-1 rounded-full font-semibold shadow-md",children:"НОВОЕ"}),S.isOnSale&&a.jsx("span",{className:"bg-gradient-to-r from-accent-500 to-accent-600 text-white text-xs px-3 py-1 rounded-full font-semibold shadow-md",children:"-20%"})]})]}),S.images&&S.images.length>1&&a.jsx("div",{className:"grid grid-cols-4 gap-4",children:S.images.map((e,s)=>a.jsx("button",{className:`relative overflow-hidden rounded-xl h-24 transition-all cursor-pointer shadow-md hover:shadow-lg ${D===s?"border-2 border-primary-500 ring-2 ring-primary-200 scale-105":"border border-secondary-100 hover:border-primary-200"}`,onClick:()=>L(s),children:a.jsx(E.w,{src:e.url||"/placeholder-product.jpg",thumbnailSrc:e.thumbnailUrl,alt:`${S.name} ${s+1}`,className:"w-full h-full object-cover"})},s))})]})}),a.jsx(C.SlideIn,{direction:"right",children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("span",{className:"text-sm text-charcoal-500 uppercase tracking-wider font-medium bg-secondary-50 px-3 py-1 rounded-full",children:S.category?.name||""}),(0,a.jsxs)("div",{className:"flex items-center space-x-1 bg-gold-50 px-3 py-1.5 rounded-full",children:[a.jsx(x.Z,{className:"w-4 h-4 fill-gold-500 text-gold-500"}),a.jsx("span",{className:"text-sm text-charcoal-700 font-medium",children:S.rating||4.5}),(0,a.jsxs)("span",{className:"text-sm text-charcoal-500",children:["(",S.reviews?.length||0," отзывов)"]})]})]}),a.jsx("h1",{className:"font-display text-3xl lg:text-5xl font-bold text-charcoal-800 mb-6 tracking-tight",children:S.name})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[a.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-secondary-100 overflow-hidden",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsxs)("div",{className:"flex-1 p-4",children:[a.jsx("span",{className:"text-2xl font-bold text-charcoal-800",children:eo(S.price)}),S.originalPrice&&a.jsx("span",{className:"text-sm text-charcoal-500 line-through ml-2",children:eo(S.originalPrice)})]}),S.isOnSale&&a.jsx("div",{className:"bg-gradient-to-r from-accent-500 to-accent-600 text-white text-xs px-4 py-2 h-full flex items-center font-semibold",children:"Скидка"})]})}),S.variants&&S.variants.some(e=>"COLOR"===e.type)&&a.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-secondary-100 p-4",children:(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("h3",{className:"font-medium text-charcoal-800 w-24",children:"Цвет"}),a.jsx("div",{className:"flex-1",children:a.jsx(A.c,{colors:Array.from(new Set(S.variants.filter(e=>"COLOR"===e.type).map(e=>e.value).filter(Boolean))),selectedColor:M,onColorChange:Y,compact:!0})})]})}),S.variants&&S.variants.some(e=>"SIZE"===e.type)&&a.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-secondary-100 p-4",children:(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("h3",{className:"font-medium text-charcoal-800 w-24",children:"Размер"}),a.jsx("div",{className:"flex-1",children:a.jsx("div",{className:"flex flex-wrap gap-2",children:Array.from(new Set(S.variants.filter(e=>"SIZE"===e.type).map(e=>e.value).filter(Boolean))).map(e=>a.jsx(o.z,{variant:K===e?"default":"outline",size:"sm",className:K===e?"bg-gradient-to-r from-primary-400 to-primary-500 text-primary-900 shadow-sm h-8 min-w-[40px]":"border border-secondary-200 hover:border-primary-300 hover:text-primary-600 h-8 min-w-[40px]",onClick:()=>G(e),children:e},e))})})]})}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-secondary-100 p-4",children:(0,a.jsxs)("div",{className:"flex flex-col space-y-3",children:[a.jsx("h3",{className:"font-medium text-charcoal-800",children:"Количество"}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center border border-secondary-200 rounded-lg",children:[a.jsx(o.z,{variant:"ghost",size:"icon",onClick:()=>el(B-1),disabled:B<=1,className:"hover:bg-secondary-50 hover:text-primary-600 h-9 w-9",children:a.jsx(p.Z,{className:"w-4 h-4 text-charcoal-700"})}),a.jsx("span",{className:"px-4 text-center min-w-[40px] text-charcoal-800 font-medium",children:B}),a.jsx(o.z,{variant:"ghost",size:"icon",onClick:()=>el(B+1),className:"hover:bg-secondary-50 hover:text-primary-600 h-9 w-9",children:a.jsx(u.Z,{className:"w-4 h-4 text-charcoal-700"})})]}),a.jsx("span",{className:`text-sm font-medium px-3 py-1 rounded-full ${S.stock>0?"bg-green-50 text-green-700":"bg-red-50 text-red-700"}`,children:S.stock>0?`В наличии: ${S.stock} шт.`:"Нет в наличии"})]})]})})]}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 pt-6",children:[(console.log("Product ID:",S._id),console.log("Selected size:",K),console.log("Selected color:",M),console.log("Is in cart:",W(S._id,K,M)),W(S._id,K,M))?a.jsx(_(),{href:"/cart",className:"flex-1",children:(0,a.jsxs)(o.z,{className:"w-full py-6 bg-gradient-to-r from-gold-400 to-gold-600 text-charcoal-900 hover:from-gold-500 hover:to-gold-700 shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300 border border-gold-300",variant:"premium",children:[a.jsx(n.Z,{className:"w-5 h-5 mr-2"}),"Перейти в корзину"]})}):(0,a.jsxs)(o.z,{onClick:()=>{if(!S)return;console.log("handleAddToCart called:",{productId:S._id,quantity:B,size:K,color:M});let e=S.variants&&S.variants.some(e=>"SIZE"===e.type),s=S.variants&&S.variants.some(e=>"COLOR"===e.type);if(e&&!K){P.Am.error("Пожалуйста, выберите размер",{style:{color:"#1f2937",background:"#ffffff",border:"1px solid #e5e7eb"},icon:a.jsx(d.Z,{className:"h-5 w-5 text-red-500"})});return}if(s&&!M){P.Am.error("Пожалуйста, выберите цвет",{style:{color:"#1f2937",background:"#ffffff",border:"1px solid #e5e7eb"},icon:a.jsx(d.Z,{className:"h-5 w-5 text-red-500"})});return}J(S,B,K||void 0,M||void 0),P.Am.success("Товар добавлен в корзину!",{style:{color:"#1f2937",background:"#ffffff",border:"1px solid #e5e7eb"},icon:a.jsx(n.Z,{className:"h-5 w-5"})})},className:"flex-1 py-6 bg-gradient-to-r from-primary-400 to-primary-500 hover:from-primary-500 hover:to-primary-600 text-primary-900 shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300",disabled:S.stock<=0,children:[a.jsx(n.Z,{className:"w-5 h-5 mr-2"}),S.stock>0?"Добавить в корзину":"Нет в наличии"]}),a.jsx(o.z,{variant:"outline",size:"icon",className:"rounded-full w-14 h-14 border-2 border-secondary-200 hover:border-accent-300 hover:text-accent-500 shadow-md hover:shadow-lg transform hover:-translate-y-1 transition-all duration-300",onClick:()=>{S&&(console.log("handleToggleFavorite called for product:",S._id),er(S._id))},children:a.jsx(g.Z,{className:`w-6 h-6 ${es(S._id)?"fill-accent-500 text-accent-500":""}`})}),a.jsx(o.z,{variant:"outline",size:"icon",className:"rounded-full w-14 h-14 border-2 border-secondary-200 hover:border-primary-300 hover:text-primary-500 shadow-md hover:shadow-lg transform hover:-translate-y-1 transition-all duration-300",children:a.jsx(f.Z,{className:"w-6 h-6"})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 pt-8 mt-6 border-t border-secondary-100",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3 bg-white p-4 rounded-xl shadow-md border border-secondary-100",children:[a.jsx("div",{className:"w-10 h-10 bg-primary-50 rounded-full flex items-center justify-center",children:a.jsx(b.Z,{className:"w-5 h-5 text-primary-500"})}),a.jsx("span",{className:"text-sm font-medium text-charcoal-700",children:"Бесплатная доставка от 5000 ₽"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3 bg-white p-4 rounded-xl shadow-md border border-secondary-100",children:[a.jsx("div",{className:"w-10 h-10 bg-gold-50 rounded-full flex items-center justify-center",children:a.jsx(j.Z,{className:"w-5 h-5 text-gold-500"})}),a.jsx("span",{className:"text-sm font-medium text-charcoal-700",children:"Гарантия качества"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3 bg-white p-4 rounded-xl shadow-md border border-secondary-100",children:[a.jsx("div",{className:"w-10 h-10 bg-accent-50 rounded-full flex items-center justify-center",children:a.jsx(v.Z,{className:"w-5 h-5 text-accent-500"})}),a.jsx("span",{className:"text-sm font-medium text-charcoal-700",children:"Возврат в течение 14 дней"})]})]})]})})]}),a.jsx(C.FadeIn,{delay:200,children:a.jsx("div",{className:"mt-20 lg:mt-16 lg:col-span-2",children:(0,a.jsxs)(c.mQ,{defaultValue:"description",className:"w-full",children:[(0,a.jsxs)(c.dr,{className:"grid w-full grid-cols-3 bg-secondary-50 p-1 rounded-xl",children:[a.jsx(c.SP,{value:"description",className:"data-[state=active]:bg-white data-[state=active]:text-charcoal-800 data-[state=active]:shadow-md data-[state=inactive]:text-charcoal-600 rounded-lg",children:"Описание"}),a.jsx(c.SP,{value:"characteristics",className:"data-[state=active]:bg-white data-[state=active]:text-charcoal-800 data-[state=active]:shadow-md data-[state=inactive]:text-charcoal-600 rounded-lg",children:"Характеристики"}),(0,a.jsxs)(c.SP,{value:"reviews",className:"data-[state=active]:bg-white data-[state=active]:text-charcoal-800 data-[state=active]:shadow-md data-[state=inactive]:text-charcoal-600 rounded-lg",children:["Отзывы (",S.reviews?.length||0,")"]})]}),a.jsx(c.nU,{value:"description",className:"mt-8",children:a.jsx(i.Zb,{className:"border border-secondary-100 shadow-lg",children:a.jsx(i.aY,{className:"p-8",children:(0,a.jsxs)("div",{className:"prose max-w-none text-charcoal-700",children:[S.description&&(0,a.jsxs)(a.Fragment,{children:[a.jsx("p",{className:"text-charcoal-700 whitespace-pre-line leading-relaxed",children:V?S.description:((e,s=300)=>{if(!e||e.length<=s)return e;let r=e.substring(0,s),a=r.lastIndexOf(" ");return a>0?r.substring(0,a)+"...":r+"..."})(S.description)}),(e=S.description)&&e.length>300&&a.jsx(o.z,{variant:"link",className:"p-0 h-auto text-primary-500 font-medium",onClick:()=>H(!V),children:V?"Свернуть":"Подробнее"})]}),!S.description&&a.jsx("p",{className:"text-charcoal-700",children:"Описание товара отсутствует."}),S.features&&S.features.length>0&&(0,a.jsxs)(a.Fragment,{children:[a.jsx("h3",{className:"text-xl font-semibold mt-8 mb-4 text-charcoal-800",children:"Особенности"}),a.jsx("ul",{className:"space-y-2",children:S.features.map((e,s)=>(0,a.jsxs)("li",{className:"flex items-start",children:[a.jsx(N.Z,{className:"w-5 h-5 text-primary-500 mr-3 mt-0.5 flex-shrink-0"}),a.jsx("span",{className:"text-charcoal-700",children:e})]},s))})]})]})})})}),a.jsx(c.nU,{value:"characteristics",className:"mt-8",children:a.jsx(i.Zb,{className:"border border-secondary-100 shadow-lg",children:a.jsx(i.aY,{className:"p-8",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"font-medium mb-6 text-charcoal-800 text-lg border-b border-secondary-100 pb-2",children:"Основные характеристики"}),(0,a.jsxs)("dl",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex justify-between border-b border-secondary-50 pb-2",children:[a.jsx("dt",{className:"text-charcoal-500",children:"Категория"}),a.jsx("dd",{className:"font-medium text-charcoal-800",children:S.category?.name||""})]}),(0,a.jsxs)("div",{className:"flex justify-between border-b border-secondary-50 pb-2",children:[a.jsx("dt",{className:"text-charcoal-500",children:"Страна производитель"}),a.jsx("dd",{className:"font-medium text-charcoal-800",children:S.country})]}),(0,a.jsxs)("div",{className:"flex justify-between border-b border-secondary-50 pb-2",children:[a.jsx("dt",{className:"text-charcoal-500",children:"Бренд"}),a.jsx("dd",{className:"font-medium text-charcoal-800",children:S.brand})]}),S.material&&(0,a.jsxs)("div",{className:"flex justify-between border-b border-secondary-50 pb-2",children:[a.jsx("dt",{className:"text-charcoal-500",children:"Материал"}),a.jsx("dd",{className:"font-medium text-charcoal-800",children:S.material})]}),S.weight&&(0,a.jsxs)("div",{className:"flex justify-between border-b border-secondary-50 pb-2",children:[a.jsx("dt",{className:"text-charcoal-500",children:"Вес"}),(0,a.jsxs)("dd",{className:"font-medium text-charcoal-800",children:[S.weight," г"]})]})]})]}),S.dimensions&&(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"font-medium mb-6 text-charcoal-800 text-lg border-b border-secondary-100 pb-2",children:"Габариты"}),a.jsx("dl",{className:"space-y-3",children:(0,a.jsxs)("div",{className:"flex justify-between border-b border-secondary-50 pb-2",children:[a.jsx("dt",{className:"text-charcoal-500",children:"Длина"}),(0,a.jsxs)("dd",{className:"font-medium text-charcoal-800",children:[S.dimensions," см"]})]})})]})]})})})}),a.jsx(c.nU,{value:"reviews",className:"mt-8",children:a.jsx(i.Zb,{className:"border border-secondary-100 shadow-lg",children:a.jsx(i.aY,{className:"p-8",children:S.reviews&&S.reviews.length>0?a.jsx("div",{className:"space-y-6",children:S.reviews.map((e,s)=>(0,a.jsxs)("div",{className:"border-b border-secondary-100 pb-6 last:border-0 last:pb-0",children:[(0,a.jsxs)("div",{className:"flex justify-between mb-2",children:[a.jsx("h4",{className:"font-medium text-charcoal-800",children:"Аноним"}),(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex",children:[void 0,void 0,void 0,void 0,void 0].map((s,r)=>a.jsx(x.Z,{className:`w-4 h-4 ${r<e.rating?"fill-gold-500 text-gold-500":"text-secondary-300"}`},r))}),a.jsx("span",{className:"text-sm text-charcoal-500 ml-2",children:new Date(e.createdAt).toLocaleDateString("ru-RU")})]})]}),a.jsx("p",{className:"text-charcoal-600",children:e.comment})]},s))}):a.jsx("div",{className:"text-center py-10",children:a.jsx("p",{className:"text-charcoal-500",children:"Отзывов пока нет. Будьте первым, кто оставит отзыв!"})})})})})]})})}),Q.length>0&&a.jsx(C.FadeIn,{delay:400,children:(0,a.jsxs)("div",{className:"mt-20",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-10",children:[(0,a.jsxs)("h2",{className:"font-display text-3xl font-bold text-charcoal-800 tracking-tight",children:["Сопутствующие ",a.jsx("span",{className:"premium-text",children:"товары"})]}),(0,a.jsxs)(_(),{href:"/catalog",className:"text-primary-500 hover:text-primary-600 font-medium flex items-center",children:["Смотреть все ",a.jsx(h.Z,{className:"w-4 h-4 ml-1"})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:Q.map(e=>a.jsx(C.SlideIn,{delay:50,children:(0,a.jsxs)("div",{className:"group bg-white rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-500 transform hover:-translate-y-2 overflow-hidden border border-secondary-100 premium-shadow",children:[a.jsx(_(),{href:`/product/${e.slug}`,children:(0,a.jsxs)("div",{className:"relative overflow-hidden bg-secondary-50 h-64",children:[a.jsx(E.w,{src:e.mainImage||"/placeholder-product.jpg",alt:e.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}),(0,a.jsxs)("div",{className:"absolute top-4 left-4 flex flex-col space-y-2",children:[e.isBrandNew&&a.jsx("span",{className:"bg-gradient-to-r from-gold-400 to-gold-600 text-white text-xs px-3 py-1 rounded-full font-semibold shadow-md",children:"НОВОЕ"}),e.isOnSale&&a.jsx("span",{className:"bg-gradient-to-r from-accent-500 to-accent-600 text-white text-xs px-3 py-1 rounded-full font-semibold shadow-md",children:"-20%"})]}),(0,a.jsxs)("div",{className:"absolute top-4 right-4 flex flex-col space-y-3 transition-all duration-300 opacity-0 group-hover:opacity-100 transform translate-x-4 group-hover:translate-x-0",children:[a.jsx(o.z,{size:"icon",variant:"secondary",className:"w-10 h-10 rounded-full bg-white/90 backdrop-blur-sm hover:bg-white shadow-lg hover:shadow-xl text-charcoal-600 hover:text-accent-500 hover:scale-110 transition-all duration-300",onClick:s=>{s.preventDefault(),s.stopPropagation(),er(e._id)},children:a.jsx(g.Z,{className:`w-5 h-5 ${es(e._id)?"fill-accent-500 text-accent-500":""}`})}),a.jsx($.i,{product:e,children:a.jsx(o.z,{size:"icon",variant:"secondary",className:"w-10 h-10 rounded-full bg-white/90 backdrop-blur-sm hover:bg-white shadow-lg hover:shadow-xl text-charcoal-600 hover:text-primary-500 hover:scale-110 transition-all duration-300",onClick:e=>{e.preventDefault(),e.stopPropagation()},children:a.jsx(y.Z,{className:"w-5 h-5"})})})]}),e.country&&a.jsx("div",{className:"absolute bottom-4 left-4",children:a.jsx("span",{className:"bg-white/90 backdrop-blur-sm text-charcoal-700 text-xs px-4 py-1.5 rounded-full font-medium shadow-sm border border-white/50",children:e.country})})]})}),(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("span",{className:"text-sm text-charcoal-500 uppercase tracking-wider font-medium bg-secondary-50 px-3 py-1 rounded-full",children:e.category?.name||""}),(0,a.jsxs)("div",{className:"flex items-center space-x-1 bg-gold-50 px-2 py-1 rounded-full",children:[a.jsx(x.Z,{className:"w-4 h-4 fill-gold-500 text-gold-500"}),a.jsx("span",{className:"text-sm text-charcoal-700 font-medium",children:e.rating||4.5})]})]}),a.jsx(_(),{href:`/product/${e.slug}`,children:a.jsx("h3",{className:"font-heading text-lg font-bold text-charcoal-800 mb-3 group-hover:text-primary-500 transition-colors line-clamp-2 h-14",children:e.name})}),(0,a.jsxs)("div",{className:"flex items-center justify-between mt-4 pt-4 border-t border-secondary-100",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-xl font-bold text-charcoal-800",children:eo(e.price)}),e.originalPrice&&a.jsx("span",{className:"text-sm text-charcoal-500 line-through",children:eo(e.originalPrice)})]}),a.jsx("div",{className:"w-8 h-8 rounded-full bg-primary-50 group-hover:bg-primary-100 flex items-center justify-center transition-all",children:a.jsx("span",{className:"text-sm text-primary-500 group-hover:text-primary-600",children:"→"})})]})]})]})},e._id))})]})})]}),a.jsx(I.Q,{isOpen:ea,onClose:()=>et(!1)})]})}},4412:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>g});var a=r(8144),t=r(3830),l=r(1313),o=r(3375),c=r(7536);let i=(0,c.createProxy)(String.raw`/Users/mikhailkolotushin/KolTech/projects/dvb/client/components/ui/Loader.tsx`),{__esModule:d,$$typeof:n}=i;i.default;let m=i.Loader;i.PageLoader,i.ButtonLoader,i.ProductCardSkeleton,i.CardSkeleton,i.TableSkeleton,i.FormSkeleton;let h=(0,c.createProxy)(String.raw`/Users/mikhailkolotushin/KolTech/projects/dvb/client/components/product/ProductPageContent.tsx`),{__esModule:x,$$typeof:p}=h,u=h.default;function g(){return(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-cream-50 to-white",children:[a.jsx(l.h4,{}),a.jsx(t.Suspense,{fallback:a.jsx(m,{variant:"page",size:"xl",text:"Загрузка товара..."}),children:a.jsx(u,{})}),a.jsx(o.$_,{})]})}}};var s=require("../../../webpack-runtime.js");s.C(e);var r=e=>s(s.s=e),a=s.X(0,[79,1714,7240,24,7962,3089,1150,796,9807,1590,7052,1260,7372,8632,2272,999],()=>r(9400));module.exports=a})();