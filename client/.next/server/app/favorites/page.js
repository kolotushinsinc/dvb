(()=>{var e={};e.id=57,e.ids=[57],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},8626:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});var r=t(2125);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r.Z)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},4996:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>i.a,__next_app__:()=>h,originalPathname:()=>m,pages:()=>x,routeModule:()=>u,tree:()=>d});var r=t(3137),a=t(4647),l=t(4183),i=t.n(l),n=t(1775),c={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>n[e]);t.d(s,c);let o=r.AppPageRouteModule,d=["",{children:["favorites",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,411)),"/Users/mikhailkolotushin/KolTech/projects/dvb/client/app/favorites/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,1335)),"/Users/mikhailkolotushin/KolTech/projects/dvb/client/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,1918,23)),"next/dist/client/components/not-found-error"]}],x=["/Users/mikhailkolotushin/KolTech/projects/dvb/client/app/favorites/page.tsx"],m="/favorites/page",h={require:t,loadChunk:()=>Promise.resolve()},u=new o({definition:{kind:a.x.APP_PAGE,page:"/favorites/page",pathname:"/favorites",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},6654:(e,s,t)=>{Promise.resolve().then(t.bind(t,1642))},1642:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>f});var r=t(80),a=t(9885),l=t(9006),i=t(3507),n=t(8384),c=t(7052),o=t(7371),d=t(8626),x=t(5894),m=t(9941),h=t(1440),u=t.n(h),p=t(7936),g=t(442);let f=()=>{let[e,s]=(0,a.useState)([]),[t,h]=(0,a.useState)(!0),[f,j]=(0,a.useState)(null),{addItem:v}=(0,g.j)();(0,a.useEffect)(()=>{let e=async()=>{try{h(!0);let e=await p.h.favorites.get();s(e),j(null)}catch(e){j("Не удалось загрузить избранные товары"),console.error("Favorites load error:",e)}finally{h(!1)}};e()},[]);let b=e=>{v(e),m.Am.success("Товар добавлен в корзину!")},y=async e=>{try{await p.h.favorites.remove(e),s(s=>s.filter(s=>s._id!==e)),m.Am.success("Товар удален из избранного")}catch(e){m.Am.error("Не удалось удалить товар из избранного"),console.error("Remove favorite error:",e)}},N=e=>new Intl.NumberFormat("ru-RU").format(e)+" ₽";return t?r.jsx("div",{className:"min-h-screen bg-cream-50 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto"}),r.jsx("p",{className:"mt-4 text-gray-600",children:"Загрузка избранного..."})]})}):(0,r.jsxs)("div",{className:"min-h-screen bg-cream-50",children:[r.jsx(l.default,{}),(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsxs)("h1",{className:"font-display text-3xl lg:text-4xl font-bold text-gray-900 mb-4 flex items-center",children:[r.jsx(o.Z,{className:"mr-3 text-red-500"}),"Избранное"]}),r.jsx("p",{className:"text-lg text-gray-600",children:e.length>0?`В избранном ${e.length} ${1===e.length?"товар":e.length<5?"товара":"товаров"}`:"У вас пока нет избранных товаров"})]}),f&&r.jsx("div",{className:"mb-8 p-4 bg-red-50 text-red-700 rounded-lg",children:f}),e.length>0?r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:e.map(e=>(0,r.jsxs)(c.Zb,{className:"group bg-white rounded-2xl shadow-md hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 overflow-hidden",children:[(0,r.jsxs)("div",{className:"relative overflow-hidden bg-gray-100 h-64",children:[r.jsx(u(),{href:`/product/${e.slug}`,children:r.jsx("img",{src:e.mainImage||"",alt:e.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"})}),(0,r.jsxs)("div",{className:"absolute top-4 left-4 flex flex-col space-y-2",children:[e.isBrandNew&&r.jsx("span",{className:"bg-green-500 text-white text-xs px-2 py-1 rounded-full font-semibold",children:"NEW"}),e.isOnSale&&r.jsx("span",{className:"bg-accent text-white text-xs px-2 py-1 rounded-full font-semibold",children:"-20%"})]}),(0,r.jsxs)("div",{className:"absolute top-4 right-4 flex flex-col space-y-2",children:[r.jsx(n.z,{size:"icon",variant:"secondary",className:"w-10 h-10 rounded-full bg-white/90 backdrop-blur-sm hover:bg-white shadow-md text-red-500",onClick:()=>y(e._id),children:r.jsx(o.Z,{className:"w-4 h-4 fill-current"})}),r.jsx(u(),{href:`/product/${e.slug}`,children:r.jsx(n.z,{size:"icon",variant:"secondary",className:"w-10 h-10 rounded-full bg-white/90 backdrop-blur-sm hover:bg-white shadow-md",children:r.jsx(d.Z,{className:"w-4 h-4"})})})]})]}),(0,r.jsxs)(c.aY,{className:"p-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-xs text-gray-500 uppercase tracking-wide font-medium",children:e.category?.name}),r.jsx("div",{className:"flex items-center space-x-1",children:e.rating&&(0,r.jsxs)(r.Fragment,{children:[r.jsx("svg",{className:"w-4 h-4 fill-yellow-400 text-yellow-400",viewBox:"0 0 20 20",children:r.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}),r.jsx("span",{className:"text-sm text-gray-600",children:e.rating}),e.reviews&&(0,r.jsxs)("span",{className:"text-sm text-gray-400",children:["(",e.reviews.length,")"]})]})})]}),r.jsx(u(),{href:`/product/${e.slug}`,children:r.jsx("h3",{className:"font-heading text-lg font-bold text-gray-900 mb-3 group-hover:text-primary transition-colors",children:e.name})}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:"text-xl font-bold text-primary",children:N(e.price)}),e.originalPrice&&r.jsx("span",{className:"text-sm text-gray-500 line-through",children:N(e.originalPrice)})]}),r.jsx(n.z,{size:"icon",className:"rounded-full bg-primary hover:bg-indigo-700",onClick:()=>b(e),children:r.jsx(x.Z,{className:"w-4 h-4"})})]})]})]},e._id))}):(0,r.jsxs)("div",{className:"text-center py-16 bg-white rounded-2xl shadow-sm",children:[r.jsx(o.Z,{className:"mx-auto h-16 w-16 text-gray-400"}),r.jsx("h3",{className:"mt-4 text-xl font-medium text-gray-900",children:"У вас нет избранных товаров"}),r.jsx("p",{className:"mt-2 text-gray-500 max-w-md mx-auto",children:"Добавляйте товары в избранное, чтобы не потерять их и вернуться к покупке позже."}),r.jsx("div",{className:"mt-8",children:r.jsx(u(),{href:"/catalog",children:r.jsx(n.z,{className:"px-6",children:"Перейти в каталог"})})})]})]}),r.jsx(i.default,{})]})}},411:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>i,__esModule:()=>l,default:()=>c});var r=t(7536);let a=(0,r.createProxy)(String.raw`/Users/mikhailkolotushin/KolTech/projects/dvb/client/app/favorites/page.tsx`),{__esModule:l,$$typeof:i}=a,n=a.default,c=n}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[79,7001,9807,1590,7052],()=>t(4996));module.exports=r})();