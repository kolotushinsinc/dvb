(()=>{var e={};e.id=155,e.ids=[155],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},7273:(e,s,r)=>{"use strict";r.r(s),r.d(s,{GlobalError:()=>l.a,__next_app__:()=>h,originalPathname:()=>m,pages:()=>x,routeModule:()=>p,tree:()=>o});var t=r(3137),a=r(4647),i=r(4183),l=r.n(i),n=r(1775),c={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>n[e]);r.d(s,c);let d=t.AppPageRouteModule,o=["",{children:["order-confirmation",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,6602)),"/Users/mikhailkolotushin/KolTech/projects/dvb/client/app/order-confirmation/[id]/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,7613)),"/Users/mikhailkolotushin/KolTech/projects/dvb/client/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,1918,23)),"next/dist/client/components/not-found-error"]}],x=["/Users/mikhailkolotushin/KolTech/projects/dvb/client/app/order-confirmation/[id]/page.tsx"],m="/order-confirmation/[id]/page",h={require:r,loadChunk:()=>Promise.resolve()},p=new d({definition:{kind:a.x.APP_PAGE,page:"/order-confirmation/[id]/page",pathname:"/order-confirmation/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},8264:(e,s,r)=>{Promise.resolve().then(r.bind(r,6523))},6523:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>y});var t=r(80),a=r(9885),i=r(7114),l=r(9006),n=r(3507),c=r(8384),d=r(7052),o=r(501),x=r(4796),m=r(6253),h=r(7004),p=r(3303),u=r(8260),j=r(6995),g=r(7631),f=r(1440),N=r.n(f),v=r(7936);let y=({orderId:e})=>{var s;(0,i.useRouter)();let[r,f]=(0,a.useState)(null),[y,b]=(0,a.useState)(!0),[w,k]=(0,a.useState)(null);(0,a.useEffect)(()=>{let s=async()=>{if(e)try{b(!0);let s=await v.h.orders.getOrderById(e);f(s),k(null)}catch(e){k("Не удалось загрузить информацию о заказе"),console.error("Order load error:",e)}finally{b(!1)}};s()},[e]);let P=e=>new Intl.NumberFormat("ru-RU").format(e)+" ₽";return y?t.jsx("div",{className:"min-h-screen bg-cream-50 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto"}),t.jsx("p",{className:"mt-4 text-gray-600",children:"Загрузка информации о заказе..."})]})}):w||!r?t.jsx("div",{className:"min-h-screen bg-cream-50 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center max-w-md",children:[t.jsx("div",{className:"text-red-500 mb-4",children:t.jsx("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),t.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Ошибка"}),t.jsx("p",{className:"text-gray-600 mb-6",children:w||"Информация о заказе не найдена"}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[t.jsx(N(),{href:"/profile",children:t.jsx(c.z,{children:"Мои заказы"})}),t.jsx(N(),{href:"/catalog",children:t.jsx(c.z,{variant:"outline",children:"Перейти в каталог"})})]})]})}):(0,t.jsxs)("div",{className:"min-h-screen bg-cream-50",children:[t.jsx(l.default,{}),(0,t.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,t.jsxs)("div",{className:"text-center mb-10",children:[t.jsx("div",{className:"flex justify-center mb-4",children:t.jsx("div",{className:"rounded-full bg-green-100 p-3",children:t.jsx(m.Z,{className:"h-12 w-12 text-green-600"})})}),t.jsx("h1",{className:"font-display text-3xl lg:text-4xl font-bold text-gray-900 mb-2",children:"Заказ успешно оформлен!"}),t.jsx("p",{className:"text-lg text-gray-600",children:"Спасибо за ваш заказ! Мы приняли его и уже начали обрабатывать."})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,t.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,t.jsxs)(d.Zb,{children:[t.jsx(d.Ol,{children:(0,t.jsxs)(d.ll,{className:"flex items-center",children:[t.jsx(h.Z,{className:"w-5 h-5 mr-2"}),"Заказ #",r._id.slice(-8)]})}),(0,t.jsxs)(d.aY,{children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Дата оформления"}),t.jsx("p",{className:"font-medium",children:(s=r.createdAt,new Date(s).toLocaleDateString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}))})]}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Статус"}),t.jsx(x.C,{className:(e=>{switch(e){case"pending":return"bg-yellow-100 text-yellow-800";case"processing":return"bg-blue-100 text-blue-800";case"shipped":return"bg-purple-100 text-purple-800";case"delivered":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}})(r.status),children:(e=>{switch(e){case"pending":return"В обработке";case"processing":return"Собирается";case"shipped":return"Отправлен";case"delivered":return"Доставлен";case"cancelled":return"Отменен";default:return e}})(r.status)})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[t.jsx("h3",{className:"font-medium",children:"Состав заказа"}),r.items.map((e,s)=>(0,t.jsxs)("div",{className:"flex gap-4 py-3 border-b border-gray-100",children:[t.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-md overflow-hidden",children:t.jsx("img",{src:e.product.mainImage||"",alt:e.product.name,className:"w-full h-full object-cover"})}),(0,t.jsxs)("div",{className:"flex-1",children:[t.jsx(N(),{href:`/product/${e.product.slug}`,className:"font-medium hover:text-primary",children:e.product.name}),(0,t.jsxs)("p",{className:"text-sm text-gray-500",children:[e.quantity," \xd7 ",P(e.price)]}),(e.size||e.color)&&(0,t.jsxs)("div",{className:"flex gap-1 mt-1",children:[e.size&&(0,t.jsxs)(x.C,{variant:"secondary",className:"text-xs",children:["Размер: ",e.size]}),e.color&&(0,t.jsxs)(x.C,{variant:"secondary",className:"text-xs",children:["Цвет: ",e.color]})]})]}),t.jsx("div",{className:"text-right",children:t.jsx("p",{className:"font-medium",children:P(e.price*e.quantity)})})]},s))]})]})]}),(0,t.jsxs)(d.Zb,{children:[t.jsx(d.Ol,{children:(0,t.jsxs)(d.ll,{className:"flex items-center",children:[t.jsx(p.Z,{className:"w-5 h-5 mr-2"}),"Информация о доставке"]})}),t.jsx(d.aY,{children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[t.jsx("h3",{className:"font-medium mb-3",children:"Адрес доставки"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("p",{children:[r.shippingAddress.firstName," ",r.shippingAddress.lastName]}),t.jsx("p",{children:r.shippingAddress.address}),(0,t.jsxs)("p",{children:[r.shippingAddress.city,", ",r.shippingAddress.postalCode]}),t.jsx("p",{children:r.shippingAddress.country})]})]}),(0,t.jsxs)("div",{children:[t.jsx("h3",{className:"font-medium mb-3",children:"Способ оплаты"}),(0,t.jsxs)("div",{className:"flex items-center",children:[t.jsx(u.Z,{className:"w-5 h-5 mr-2 text-gray-500"}),t.jsx("span",{children:"Банковская карта"})]})]})]})})]})]}),t.jsx("div",{className:"lg:col-span-1",children:(0,t.jsxs)(d.Zb,{className:"sticky top-8",children:[t.jsx(d.Ol,{children:t.jsx(d.ll,{children:"Итоги заказа"})}),(0,t.jsxs)(d.aY,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Товары"}),t.jsx("span",{children:P(r.total)})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Доставка"}),t.jsx("span",{children:"Бесплатно"})]})]}),t.jsx(o.Z,{}),(0,t.jsxs)("div",{className:"flex justify-between font-bold text-lg",children:[t.jsx("span",{children:"Итого"}),t.jsx("span",{children:P(r.total)})]}),(0,t.jsxs)("div",{className:"pt-6 space-y-3",children:[t.jsx("p",{className:"text-sm text-gray-600",children:"Мы отправили информацию о заказе на вашу почту."}),t.jsx("p",{className:"text-sm text-gray-600",children:"Статус заказа можно отслеживать в личном кабинете."})]}),(0,t.jsxs)("div",{className:"space-y-3 pt-4",children:[t.jsx(N(),{href:"/profile",children:(0,t.jsxs)(c.z,{className:"w-full",children:[t.jsx(j.Z,{className:"w-4 h-4 mr-2"}),"Личный кабинет"]})}),t.jsx(N(),{href:"/catalog",children:(0,t.jsxs)(c.z,{variant:"outline",className:"w-full",children:["Продолжить покупки",t.jsx(g.Z,{className:"w-4 h-4 ml-2"})]})})]})]})]})})]})]}),t.jsx(n.default,{})]})}},501:(e,s,r)=>{"use strict";r.d(s,{Z:()=>n});var t=r(80),a=r(9885),i=r(2299),l=r(3161);let n=a.forwardRef(({className:e,orientation:s="horizontal",decorative:r=!0,...a},n)=>t.jsx(i.f,{ref:n,decorative:r,orientation:s,className:(0,l.cn)("shrink-0 bg-border","horizontal"===s?"h-[1px] w-full":"h-full w-[1px]",e),...a}));n.displayName=i.f.displayName},6602:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>o,generateStaticParams:()=>d});var t=r(8144),a=r(7536);let i=(0,a.createProxy)(String.raw`/Users/mikhailkolotushin/KolTech/projects/dvb/client/app/order-confirmation/[id]/OrderConfirmationClient.tsx`),{__esModule:l,$$typeof:n}=i,c=i.default;async function d(){return[]}function o({params:e}){return t.jsx(c,{orderId:e.id})}}};var s=require("../../../webpack-runtime.js");s.C(e);var r=e=>s(s.s=e),t=s.X(0,[6498,7001,2299,4467,1788,1590,7052,4796],()=>r(7273));module.exports=t})();