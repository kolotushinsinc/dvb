"use strict";exports.id=1086,exports.ids=[1086],exports.modules={1086:(e,s,t)=>{t.d(s,{w:()=>i});var l=t(80),a=t(9885);let r=({className:e="",width:s="100%",height:t="100%"})=>l.jsx("div",{className:`animate-pulse bg-gray-200 rounded-lg ${e}`,style:{width:s,height:t},children:l.jsx("div",{className:"w-full h-full flex items-center justify-center",children:l.jsx("div",{className:"text-gray-400",children:l.jsx("svg",{className:"w-8 h-8",fill:"currentColor",viewBox:"0 0 20 20",children:l.jsx("path",{fillRule:"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z",clipRule:"evenodd"})})})})}),i=({src:e,alt:s,thumbnailSrc:t,className:i="",width:c="100%",height:n="100%",onClick:o})=>{let[d,u]=(0,a.useState)(!1),[h,x]=(0,a.useState)(!0),[m,v]=(0,a.useState)(!1),[f,p]=(0,a.useState)(!1),g=(0,a.useRef)(null),j=e=>e?e.replace("https://api.dvberry.ru",""):e,y=j(e),w=t?j(t):void 0;(0,a.useEffect)(()=>{let e=new IntersectionObserver(([s])=>{s.isIntersecting&&(N(),e.disconnect())},{threshold:.1});return g.current&&e.observe(g.current),()=>{e.disconnect()}},[]);let N=()=>{if(x(!0),v(!1),t&&!f){let e=new Image;e.onload=()=>{u(!0),x(!1),setTimeout(()=>{p(!0)},300)},e.onerror=()=>{v(!0),x(!1)},e.src=w||""}else{let e=new Image;e.onload=()=>{u(!0),x(!1)},e.onerror=()=>{v(!0),x(!1)},e.src=y}};return(0,l.jsxs)("div",{className:`relative overflow-hidden ${i}`,style:{width:c,height:n},onClick:()=>{o&&o()},children:[h&&l.jsx(r,{width:c,height:n,className:"absolute inset-0"}),m?l.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-100 rounded-lg",children:(0,l.jsxs)("div",{className:"text-gray-400 text-center",children:[l.jsx("svg",{className:"w-8 h-8 mx-auto mb-2",fill:"currentColor",viewBox:"0 0 20 20",children:l.jsx("path",{fillRule:"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z",clipRule:"evenodd"})}),l.jsx("p",{className:"text-sm",children:"Ошибка загрузки"})]})}):l.jsx("img",{ref:g,src:f?y:w||y,alt:s,className:`w-full h-full object-cover transition-opacity duration-300 ${d?"opacity-100":"opacity-0"}`,style:{width:c,height:n}}),h&&d&&l.jsx("div",{className:"absolute inset-0 bg-white bg-opacity-50 transition-opacity duration-300 opacity-0"})]})}}};