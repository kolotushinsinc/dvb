"use strict";exports.id=1590,exports.ids=[1590],exports.modules={3507:(e,s,a)=>{a.r(s),a.d(s,{default:()=>f});var t=a(80),l=a(9885),r=a(9038),i=a(4278),c=a(1120),n=a(4571),o=a(9490),d=a(7094),x=a(1440),m=a.n(x),h=a(7936);let f=()=>{let[e,s]=(0,l.useState)([]),a=new Date().getFullYear();return(0,l.useEffect)(()=>{let e=async()=>{try{let e=await h.h.categories.getAll();s(e.filter(e=>e.isActive))}catch(e){console.error("Failed to load categories:",e),s([{_id:"glasses",name:"Очки",slug:"glasses",isActive:!0,sortOrder:1,level:1},{_id:"clothing",name:"Одежда",slug:"clothing",isActive:!0,sortOrder:2,level:1},{_id:"shoes",name:"Обувь",slug:"shoes",isActive:!0,sortOrder:3,level:1},{_id:"accessories",name:"Аксессуары",slug:"accessories",isActive:!0,sortOrder:4,level:1}])}};e()},[]),t.jsx("footer",{className:"bg-slate-800 text-white",children:(0,t.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-slate-700 to-amber-500 rounded-lg flex items-center justify-center",children:t.jsx("span",{className:"text-white font-bold text-sm",children:"DV"})}),t.jsx("span",{className:"font-display text-2xl font-bold",children:"BERRY"})]}),t.jsx("p",{className:"text-gray-300 leading-relaxed",children:"Уникальная торговая платформа, объединяющая солнцезащитные очки из Китая и качественную одежду из Европы."}),(0,t.jsxs)("div",{className:"flex space-x-4",children:[t.jsx(m(),{href:"#",className:"text-gray-400 hover:text-primary transition-colors",children:t.jsx(r.Z,{className:"w-5 h-5"})}),t.jsx(m(),{href:"#",className:"text-gray-400 hover:text-primary transition-colors",children:t.jsx(i.Z,{className:"w-5 h-5"})}),t.jsx(m(),{href:"#",className:"text-gray-400 hover:text-primary transition-colors",children:t.jsx(c.Z,{className:"w-5 h-5"})})]})]}),(0,t.jsxs)("div",{children:[t.jsx("h3",{className:"font-heading text-lg font-bold mb-4",children:"Каталог"}),(0,t.jsxs)("ul",{className:"space-y-3",children:[e.map(e=>t.jsx("li",{children:t.jsx(m(),{href:`/catalog/${e.slug}`,className:"text-gray-300 hover:text-white transition-colors",children:e.name})},e._id)),t.jsx("li",{children:t.jsx(m(),{href:"/sale",className:"text-gray-300 hover:text-white transition-colors",children:"Распродажа"})}),t.jsx("li",{children:t.jsx(m(),{href:"/catalog/new",className:"text-gray-300 hover:text-white transition-colors",children:"Новинки"})})]})]}),(0,t.jsxs)("div",{children:[t.jsx("h3",{className:"font-heading text-lg font-bold mb-4",children:"Поддержка"}),(0,t.jsxs)("ul",{className:"space-y-3",children:[t.jsx("li",{children:t.jsx(m(),{href:"/",className:"text-gray-300 hover:text-white transition-colors",children:"Главная"})}),t.jsx("li",{children:t.jsx(m(),{href:"/catalog",className:"text-gray-300 hover:text-white transition-colors",children:"Каталог"})}),t.jsx("li",{children:t.jsx(m(),{href:"/about",className:"text-gray-300 hover:text-white transition-colors",children:"О нас"})}),t.jsx("li",{children:t.jsx(m(),{href:"/contacts",className:"text-gray-300 hover:text-white transition-colors",children:"Контакты"})}),t.jsx("li",{children:t.jsx(m(),{href:"/faq",className:"text-gray-300 hover:text-white transition-colors",children:"Частые вопросы"})})]})]}),(0,t.jsxs)("div",{children:[t.jsx("h3",{className:"font-heading text-lg font-bold mb-4",children:"Контакты"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx(n.Z,{className:"w-5 h-5 text-gray-400"}),t.jsx("span",{className:"text-gray-300",children:"+7 (914) 731-99-09 (круглосуточно)"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx(o.Z,{className:"w-5 h-5 text-gray-400"}),t.jsx("span",{className:"text-gray-300",children:"siriusdark999@yandex.ru"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx(d.Z,{className:"w-5 h-5 text-gray-400"}),t.jsx("span",{className:"text-gray-300",children:"г. Находка, ул. Ленинская 10, офис 10, Россия"})]})]})]})]}),t.jsx("div",{className:"border-t border-gray-800 mt-12 pt-8",children:(0,t.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0",children:[(0,t.jsxs)("p",{className:"text-gray-400 text-sm",children:["\xa9 ",a," DV BERRY. Все права защищены."]}),(0,t.jsxs)("div",{className:"flex space-x-6 text-sm",children:[t.jsx(m(),{href:"/privacy",className:"text-gray-400 hover:text-white transition-colors",children:"Политика конфиденциальности"}),t.jsx(m(),{href:"/terms",className:"text-gray-400 hover:text-white transition-colors",children:"Условия использования"})]})]})})]})})}},9006:(e,s,a)=>{a.r(s),a.d(s,{default:()=>F});var t=a(80),l=a(9885),r=a(8384),i=a(9424),c=a(9518),n=a(7004),o=a(3680),d=a(7371),x=a(5894),m=a(7382),h=a(92),f=a(442),g=a(7589),p=a(7389),j=a(6206),u=a(3161);let N=g.fC,y=g.xz;g.x8;let v=g.h_,w=l.forwardRef(({className:e,...s},a)=>t.jsx(g.aV,{className:(0,u.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...s,ref:a}));w.displayName=g.aV.displayName;let b=(0,p.j)("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),z=l.forwardRef(({side:e="right",className:s,children:a,...l},r)=>(0,t.jsxs)(v,{children:[t.jsx(w,{}),(0,t.jsxs)(g.VY,{ref:r,className:(0,u.cn)(b({side:e}),s),...l,children:[a,(0,t.jsxs)(g.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[t.jsx(j.Z,{className:"h-4 w-4"}),t.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));z.displayName=g.VY.displayName;let Z=l.forwardRef(({className:e,...s},a)=>t.jsx(g.Dx,{ref:a,className:(0,u.cn)("text-lg font-semibold text-foreground",e),...s}));Z.displayName=g.Dx.displayName;let k=l.forwardRef(({className:e,...s},a)=>t.jsx(g.dk,{ref:a,className:(0,u.cn)("text-sm text-muted-foreground",e),...s}));k.displayName=g.dk.displayName;var C=a(2820);let R=C.fC,S=C.xz,A=l.forwardRef(({className:e,align:s="center",sideOffset:a=4,...l},r)=>t.jsx(C.h_,{children:t.jsx(C.VY,{ref:r,align:s,sideOffset:a,className:(0,u.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...l})}));A.displayName=C.VY.displayName;var V=a(1440),O=a.n(V),_=a(7114),D=a(7936),E=a(9941),Y=a(5479);let F=()=>{let[e,s]=(0,l.useState)(!1),[a,g]=(0,l.useState)(!1),[p,j]=(0,l.useState)(""),[u,v]=(0,l.useState)([]),[w,b]=(0,l.useState)(!1),[Z,k]=(0,l.useState)(!1),[C,V]=(0,l.useState)([]),[F,I]=(0,l.useState)(!1),{items:T,totalQuantity:B}=(0,f.j)(),$=(0,_.useRouter)();(0,l.useEffect)(()=>{let e=async()=>{try{let e=await D.h.auth.getProfile();g(!!e&&e.success)}catch(e){g(!1)}};e()},[]),(0,l.useEffect)(()=>{let e=async()=>{try{let e=await D.h.categories.getAll();V(e.filter(e=>e.isActive))}catch(e){console.error("Failed to load categories:",e),V([{_id:"glasses",name:"Очки",slug:"glasses",isActive:!0,sortOrder:1,level:1,categoryType:"GLASSES"},{_id:"clothing",name:"Одежда",slug:"clothing",isActive:!0,sortOrder:2,level:1,categoryType:"CLOTHING"},{_id:"shoes",name:"Обувь",slug:"shoes",isActive:!0,sortOrder:3,level:1,categoryType:"SHOES"},{_id:"accessories",name:"Аксессуары",slug:"accessories",isActive:!0,sortOrder:4,level:1,categoryType:"ACCESSORIES"}])}};e()},[]),(0,l.useEffect)(()=>{let e=async()=>{if(p.trim().length<2){v([]);return}b(!0),k(!0);try{let e=await D.h.products.search(p.trim());v(e.slice(0,5))}catch(e){console.error("Search failed:",e),v([])}finally{b(!1)}},s=setTimeout(e,300);return()=>clearTimeout(s)},[p]);let q=async()=>{try{await D.h.auth.logout(),g(!1),E.Am.success("Вы успешно вышли из системы"),$.push("/")}catch(e){E.Am.error("Не удалось выйти из системы")}},H=[...C.map(e=>({name:e.name,href:`/catalog/${e.slug}`})),{name:"Распродажа",href:"/sale"}];return(0,t.jsxs)("header",{className:"bg-white border-b border-cream-200 sticky top-0 z-50",children:[t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,t.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,t.jsxs)(O(),{href:"/",className:"flex items-center space-x-2",children:[t.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-slate-700 to-amber-500 rounded-lg flex items-center justify-center",children:t.jsx("span",{className:"text-white font-bold text-sm",children:"DB"})}),t.jsx("span",{className:"text-xl font-bold text-slate-700",children:"DV BERRY"})]}),t.jsx("nav",{className:"hidden md:flex space-x-8",children:H.map(e=>t.jsx(O(),{href:e.href,className:"text-gray-600 hover:text-primary transition-colors duration-200 font-medium",children:e.name},e.name))}),t.jsx("div",{className:"hidden lg:flex items-center space-x-4 flex-1 max-w-md mx-8",children:(0,t.jsxs)(R,{open:Z||p.trim().length>=2&&(u.length>0||w),onOpenChange:k,children:[t.jsx(S,{asChild:!0,children:(0,t.jsxs)("form",{onSubmit:e=>{e.preventDefault(),p.trim()&&$.push(`/catalog?search=${encodeURIComponent(p.trim())}`)},className:"relative flex-1",children:[t.jsx(c.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),t.jsx(i.I,{placeholder:"Поиск товаров...",className:"pl-10 bg-gray-50 border-gray-200 focus:bg-white placeholder:text-slate-700 focus:placeholder:text-slate-700/70",value:p,onChange:e=>j(e.target.value),onFocus:()=>k(!0),onClick:e=>{e.currentTarget.focus(),k(!0)}})]})}),t.jsx(A,{className:"w-[400px] p-0",align:"start",children:t.jsx("div",{className:"max-h-80 overflow-y-auto",children:w?(0,t.jsxs)("div",{className:"p-4 text-center",children:[t.jsx("div",{className:"inline-block animate-spin rounded-full h-6 w-6 border-b-2 border-gray-900"}),t.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Поиск..."})]}):u.length>0?t.jsx("div",{className:"p-2",children:u.map(e=>(0,t.jsxs)(O(),{href:`/product/${e.slug}`,className:"flex items-center p-2 hover:bg-gray-100 rounded-md transition-colors",onClick:()=>k(!1),children:[t.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-gray-200 rounded-md overflow-hidden",children:e.mainImage?t.jsx("img",{src:e.mainImage,alt:e.name,className:"w-full h-full object-cover"}):e.images&&e.images.length>0?t.jsx("img",{src:e.images[0].url,alt:e.name,className:"w-full h-full object-cover"}):t.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-100",children:t.jsx(n.Z,{className:"h-6 w-6 text-gray-400"})})}),(0,t.jsxs)("div",{className:"ml-3 flex-1 min-w-0",children:[t.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:e.name}),(0,t.jsxs)("p",{className:"text-sm text-gray-500 truncate",children:[e.price," ₽"]})]})]},e._id))}):p.trim().length>=2?t.jsx("div",{className:"p-4 text-center",children:t.jsx("p",{className:"text-sm text-gray-500",children:"ничего не найдено"})}):null})})]})}),(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[a?(0,t.jsxs)(t.Fragment,{children:[t.jsx(O(),{href:"/profile",children:t.jsx(r.z,{variant:"ghost",size:"icon",className:"hidden sm:flex",children:t.jsx(o.Z,{className:"w-5 h-5"})})}),t.jsx(O(),{href:"/favorites",children:t.jsx(r.z,{variant:"ghost",size:"icon",className:"hidden sm:flex",children:t.jsx(d.Z,{className:"w-5 h-5"})})})]}):(0,t.jsxs)(t.Fragment,{children:[t.jsx(r.z,{variant:"ghost",size:"icon",className:"hidden sm:flex",onClick:()=>I(!0),children:t.jsx(o.Z,{className:"w-5 h-5"})}),t.jsx(r.z,{variant:"ghost",size:"icon",className:"hidden sm:flex",onClick:()=>I(!0),children:t.jsx(d.Z,{className:"w-5 h-5"})})]}),t.jsx(O(),{href:"/cart",children:(0,t.jsxs)(r.z,{variant:"ghost",size:"icon",className:"relative",children:[t.jsx(x.Z,{className:"w-5 h-5"}),B>0&&t.jsx("span",{className:"absolute -top-2 -right-2 bg-accent text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:B})]})}),(0,t.jsxs)(N,{children:[t.jsx(y,{asChild:!0,children:t.jsx(r.z,{variant:"ghost",size:"icon",className:"md:hidden",children:t.jsx(m.Z,{className:"w-5 h-5"})})}),t.jsx(z,{side:"left",className:"w-80",children:(0,t.jsxs)("div",{className:"flex flex-col space-y-4 mt-8",children:[(0,t.jsxs)("div",{className:"relative mb-6",children:[t.jsx(c.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),t.jsx(i.I,{placeholder:"Поиск товаров...",className:"pl-10 placeholder:text-slate-700 focus:placeholder:text-slate-700/70"})]}),H.map(e=>t.jsx(O(),{href:e.href,className:"text-lg font-medium text-gray-600 hover:text-primary transition-colors duration-200 py-2 border-b border-gray-100",children:e.name},e.name)),t.jsx("div",{className:"flex space-x-4 mt-8",children:a?(0,t.jsxs)(t.Fragment,{children:[t.jsx(O(),{href:"/profile",className:"flex-1",children:(0,t.jsxs)(r.z,{variant:"ghost",className:"w-full",children:[t.jsx(o.Z,{className:"w-5 h-5 mr-2"}),"Профиль"]})}),t.jsx(O(),{href:"/favorites",className:"flex-1",children:(0,t.jsxs)(r.z,{variant:"ghost",className:"w-full",children:[t.jsx(d.Z,{className:"w-5 h-5 mr-2"}),"Избранное"]})}),(0,t.jsxs)(r.z,{variant:"ghost",onClick:q,className:"flex-1",children:[t.jsx(h.Z,{className:"w-5 h-5 mr-2"}),"Выйти"]})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(r.z,{variant:"ghost",className:"flex-1",onClick:()=>I(!0),children:[t.jsx(o.Z,{className:"w-5 h-5 mr-2"}),"Войти"]}),(0,t.jsxs)(r.z,{variant:"ghost",className:"flex-1",onClick:()=>I(!0),children:[t.jsx(d.Z,{className:"w-5 h-5 mr-2"}),"Избранное"]})]})})]})})]})]})]})}),t.jsx(Y.Q,{isOpen:F,onClose:()=>I(!1)})]})}},5479:(e,s,a)=>{a.d(s,{Q:()=>d});var t=a(80),l=a(1839),r=a(8384),i=a(3680),c=a(6645),n=a(1440),o=a.n(n);let d=({isOpen:e,onClose:s,message:a="Для добавления товара в избранное необходимо войти в систему"})=>t.jsx(l.Vq,{open:e,onOpenChange:s,children:(0,t.jsxs)(l.cZ,{className:"sm:max-w-md",children:[(0,t.jsxs)(l.fK,{children:[(0,t.jsxs)(l.$N,{className:"flex items-center gap-2",children:[t.jsx(i.Z,{className:"w-5 h-5"}),"Требуется авторизация"]}),t.jsx(l.Be,{className:"text-gray-600",children:a})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-3 mt-4",children:[t.jsx(o(),{href:"/auth/login",onClick:s,children:(0,t.jsxs)(r.z,{className:"w-full",variant:"default",children:[t.jsx(c.Z,{className:"w-4 h-4 mr-2"}),"Войти"]})}),t.jsx(o(),{href:"/auth/register",onClick:s,children:(0,t.jsxs)(r.z,{className:"w-full",variant:"outline",children:[t.jsx(i.Z,{className:"w-4 h-4 mr-2"}),"Зарегистрироваться"]})})]})]})})},1839:(e,s,a)=>{a.d(s,{$N:()=>g,Be:()=>p,Vq:()=>n,cN:()=>f,cZ:()=>m,fK:()=>h,hg:()=>o});var t=a(80),l=a(9885),r=a(7589),i=a(6206),c=a(3161);let n=r.fC,o=r.xz,d=r.h_;r.x8;let x=l.forwardRef(({className:e,...s},a)=>t.jsx(r.aV,{ref:a,className:(0,c.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...s}));x.displayName=r.aV.displayName;let m=l.forwardRef(({className:e,children:s,...a},l)=>(0,t.jsxs)(d,{children:[t.jsx(x,{}),(0,t.jsxs)(r.VY,{ref:l,className:(0,c.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...a,children:[s,(0,t.jsxs)(r.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[t.jsx(i.Z,{className:"h-4 w-4"}),t.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));m.displayName=r.VY.displayName;let h=({className:e,...s})=>t.jsx("div",{className:(0,c.cn)("flex flex-col space-y-1.5 text-center sm:text-left",e),...s});h.displayName="DialogHeader";let f=({className:e,...s})=>t.jsx("div",{className:(0,c.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...s});f.displayName="DialogFooter";let g=l.forwardRef(({className:e,...s},a)=>t.jsx(r.Dx,{ref:a,className:(0,c.cn)("text-lg font-semibold leading-none tracking-tight",e),...s}));g.displayName=r.Dx.displayName;let p=l.forwardRef(({className:e,...s},a)=>t.jsx(r.dk,{ref:a,className:(0,c.cn)("text-sm text-muted-foreground",e),...s}));p.displayName=r.dk.displayName},9424:(e,s,a)=>{a.d(s,{I:()=>i});var t=a(80),l=a(9885),r=a(3161);let i=l.forwardRef(({className:e,type:s,...a},l)=>t.jsx("input",{type:s,className:(0,r.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-gray-400 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:l,...a}));i.displayName="Input"}};