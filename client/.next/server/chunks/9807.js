exports.id=9807,exports.ids=[9807],exports.modules={8542:(t,e,r)=>{Promise.resolve().then(r.bind(r,4034)),Promise.resolve().then(r.bind(r,4423))},4557:(t,e,r)=>{Promise.resolve().then(r.t.bind(r,9918,23)),Promise.resolve().then(r.t.bind(r,2057,23)),Promise.resolve().then(r.t.bind(r,6148,23)),Promise.resolve().then(r.t.bind(r,8359,23)),Promise.resolve().then(r.t.bind(r,1860,23)),Promise.resolve().then(r.t.bind(r,2427,23))},4034:(t,e,r)=>{"use strict";r.r(e),r.d(e,{ClientProviders:()=>p});var a=r(80),s=r(9885),o=r(4163),n=r(644),l=r(8384);class i extends s.Component{static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,e){console.error("Uncaught error:",t,e)}render(){return this.state.hasError?a.jsx("div",{className:"min-h-screen bg-cream-50 flex items-center justify-center p-4",children:(0,a.jsxs)("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-6 text-center",children:[a.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100 mb-4",children:a.jsx(o.Z,{className:"h-6 w-6 text-red-600"})}),a.jsx("h1",{className:"text-xl font-bold text-gray-900 mb-2",children:"Что-то пошло не так"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Произошла непредвиденная ошибка. Пожалуйста, попробуйте обновить страницу."}),!1,(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[(0,a.jsxs)(l.z,{onClick:this.handleReset,className:"flex items-center",children:[a.jsx(n.Z,{className:"h-4 w-4 mr-2"}),"Попробовать снова"]}),a.jsx(l.z,{variant:"outline",onClick:()=>window.location.href="/",children:"На главную"})]})]})}):this.props.children}constructor(...t){super(...t),this.state={hasError:!1,error:null},this.handleReset=()=>{this.setState({hasError:!1,error:null})}}}var c=r(1157),m=r(442),d=r(8106),f=r(1072),u=r(9941);let y=({...t})=>{let{theme:e="system"}=(0,f.useTheme)();return a.jsx(u.x7,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};function p({children:t}){return a.jsx(i,{children:a.jsx(c.AnimationProvider,{children:a.jsx(d.z,{children:(0,a.jsxs)(m.Z,{children:[t,a.jsx(y,{})]})})})})}},442:(t,e,r)=>{"use strict";r.d(e,{Z:()=>i,j:()=>l});var a=r(80),s=r(9885),o=r(7936);let n=(0,s.createContext)(void 0),l=()=>{let t=(0,s.useContext)(n);if(!t)throw Error("useCart must be used within a CartProvider");return t},i=({children:t})=>{let[e,r]=(0,s.useState)([]),[l,i]=(0,s.useState)(!0),[c,m]=(0,s.useState)(null),[d,f]=(0,s.useState)(!1);(0,s.useEffect)(()=>{let t=async()=>{try{let t=await o.h.auth.getProfile().catch(()=>null);f(!!t)}catch(t){f(!1)}};t()},[]),(0,s.useEffect)(()=>{let t=async()=>{try{if(i(!0),d){let t=await o.h.cart.get();r(t.items.map(u))}else{let t=localStorage.getItem("cart");if(t){let e=JSON.parse(t);r(e)}}m(null)}catch(t){if(d)m("Не удалось загрузить корзину"),console.error("Error loading cart:",t);else{let e=localStorage.getItem("cart");if(e){let t=JSON.parse(e);r(t),m(null)}else m("Не удалось загрузить корзину"),console.error("Error loading cart:",t)}}finally{i(!1)}};t()},[d]);let u=t=>({...t,_id:t.product._id}),y=t=>{localStorage.setItem("cart",JSON.stringify(t))},p=async()=>{try{if(i(!0),d){let t=await o.h.cart.get();r(t.items.map(u))}else{let t=localStorage.getItem("cart");if(t){let e=JSON.parse(t);r(e)}}m(null)}catch(t){m("Ошибка синхронизации корзины"),console.error("Cart sync error:",t)}finally{i(!1)}},x=async(t,a=1,s,n)=>{try{if(console.log("addItem called with:",{productId:t._id,quantity:a,size:s,color:n}),console.log("Current items before adding:",e),d)await o.h.cart.add(t._id,a,s,n),await p();else{let o;let l={_id:t._id,product:{...t,category:t.category||(t.categoryId?{_id:t.categoryId._id,name:t.categoryId.name,slug:t.categoryId.slug,isActive:!0,sortOrder:1,level:1}:void 0)},quantity:a,size:s,color:n},i=e.findIndex(e=>e._id===t._id&&e.size===s&&e.color===n);console.log("Existing item index:",i),i>=0?(o=[...e],o[i].quantity+=a,console.log("Updated existing item quantity:",o[i].quantity)):(o=[...e,l],console.log("Added new item to cart")),console.log("Updated items after adding:",o),r(o),y(o)}}catch(t){m("Не удалось добавить товар в корзину"),console.error("Add to cart error:",t)}},g=async(t,a,s)=>{try{if(d)await o.h.cart.remove(t,a,s),await p();else{let o=e.filter(e=>!(e._id===t&&e.size===a&&e.color===s));r(o),y(o)}}catch(t){m("Не удалось удалить товар из корзины"),console.error("Remove from cart error:",t)}},h=async(t,a,s,n)=>{try{if(d)await o.h.cart.update(t,a,s,n),await p();else{let o=e.map(e=>e._id===t&&e.size===s&&e.color===n?{...e,quantity:a}:e);r(o),y(o)}}catch(t){m("Не удалось обновить количество товара"),console.error("Update quantity error:",t)}},w=async()=>{try{d?(await o.h.cart.clear(),await p()):(r([]),localStorage.removeItem("cart"))}catch(t){m("Не удалось очистить корзину"),console.error("Clear cart error:",t)}},b=e.length,v=e.reduce((t,e)=>t+e.quantity,0),k=e.reduce((t,e)=>t+e.product.price*e.quantity,0);return a.jsx(n.Provider,{value:{items:e,totalItems:b,totalQuantity:v,totalPrice:k,loading:l,error:c,addItem:x,removeItem:g,updateQuantity:h,clearCart:w,isInCart:(t,r,a)=>{console.log("isInCart called with:",{productId:t,size:r,color:a}),console.log("Current cart items:",e);let s=e.some(e=>e._id===t&&e.size===r&&e.color===a);return console.log("isInCart result:",s),s},getCartItem:(t,r,a)=>e.find(e=>e._id===t&&e.size===r&&e.color===a)},children:t})}},1157:(t,e,r)=>{"use strict";r.r(e),r.d(e,{AnimationProvider:()=>f,AnimationStyles:()=>d,BounceIn:()=>c,FadeIn:()=>n,Pulse:()=>m,ScaleIn:()=>i,SlideIn:()=>l});var a=r(80),s=r(4405),o=r.n(s);r(9885);let n=({children:t,duration:e=300,delay:r=0,className:s=""})=>a.jsx("div",{className:s,style:{animation:`fadeIn ${e}ms ease-in-out ${r}ms forwards`,opacity:0},children:t}),l=({children:t,direction:e="up",duration:r=300,delay:s=0,className:o=""})=>a.jsx("div",{className:o,style:{animation:`${(()=>{switch(e){case"left":return"slideInLeft";case"right":return"slideInRight";case"down":return"slideInDown";default:return"slideInUp"}})()} ${r}ms ease-out ${s}ms forwards`,opacity:0},children:t}),i=({children:t,duration:e=300,delay:r=0,className:s=""})=>a.jsx("div",{className:s,style:{animation:`scaleIn ${e}ms ease-out ${r}ms forwards`,opacity:0},children:t}),c=({children:t,duration:e=600,delay:r=0,className:s=""})=>a.jsx("div",{className:s,style:{animation:`bounceIn ${e}ms ease-out ${r}ms forwards`,opacity:0},children:t}),m=({children:t,duration:e=1e3,infinite:r=!1,className:s=""})=>a.jsx("div",{className:s,style:{animation:`pulse ${e}ms ease-in-out ${r?"infinite":"forwards"}`},children:t}),d=()=>a.jsx(o(),{id:"22e247735b8601bc",children:"@-webkit-keyframes fadeIn{from{opacity:0}to{opacity:1}}@-moz-keyframes fadeIn{from{opacity:0}to{opacity:1}}@-o-keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@-webkit-keyframes slideInUp{from{-webkit-transform:translatey(20px);transform:translatey(20px);opacity:0}to{-webkit-transform:translatey(0);transform:translatey(0);opacity:1}}@-moz-keyframes slideInUp{from{-moz-transform:translatey(20px);transform:translatey(20px);opacity:0}to{-moz-transform:translatey(0);transform:translatey(0);opacity:1}}@-o-keyframes slideInUp{from{-o-transform:translatey(20px);transform:translatey(20px);opacity:0}to{-o-transform:translatey(0);transform:translatey(0);opacity:1}}@keyframes slideInUp{from{-webkit-transform:translatey(20px);-moz-transform:translatey(20px);-o-transform:translatey(20px);transform:translatey(20px);opacity:0}to{-webkit-transform:translatey(0);-moz-transform:translatey(0);-o-transform:translatey(0);transform:translatey(0);opacity:1}}@-webkit-keyframes slideInDown{from{-webkit-transform:translatey(-20px);transform:translatey(-20px);opacity:0}to{-webkit-transform:translatey(0);transform:translatey(0);opacity:1}}@-moz-keyframes slideInDown{from{-moz-transform:translatey(-20px);transform:translatey(-20px);opacity:0}to{-moz-transform:translatey(0);transform:translatey(0);opacity:1}}@-o-keyframes slideInDown{from{-o-transform:translatey(-20px);transform:translatey(-20px);opacity:0}to{-o-transform:translatey(0);transform:translatey(0);opacity:1}}@keyframes slideInDown{from{-webkit-transform:translatey(-20px);-moz-transform:translatey(-20px);-o-transform:translatey(-20px);transform:translatey(-20px);opacity:0}to{-webkit-transform:translatey(0);-moz-transform:translatey(0);-o-transform:translatey(0);transform:translatey(0);opacity:1}}@-webkit-keyframes slideInLeft{from{-webkit-transform:translatex(-20px);transform:translatex(-20px);opacity:0}to{-webkit-transform:translatex(0);transform:translatex(0);opacity:1}}@-moz-keyframes slideInLeft{from{-moz-transform:translatex(-20px);transform:translatex(-20px);opacity:0}to{-moz-transform:translatex(0);transform:translatex(0);opacity:1}}@-o-keyframes slideInLeft{from{-o-transform:translatex(-20px);transform:translatex(-20px);opacity:0}to{-o-transform:translatex(0);transform:translatex(0);opacity:1}}@keyframes slideInLeft{from{-webkit-transform:translatex(-20px);-moz-transform:translatex(-20px);-o-transform:translatex(-20px);transform:translatex(-20px);opacity:0}to{-webkit-transform:translatex(0);-moz-transform:translatex(0);-o-transform:translatex(0);transform:translatex(0);opacity:1}}@-webkit-keyframes slideInRight{from{-webkit-transform:translatex(20px);transform:translatex(20px);opacity:0}to{-webkit-transform:translatex(0);transform:translatex(0);opacity:1}}@-moz-keyframes slideInRight{from{-moz-transform:translatex(20px);transform:translatex(20px);opacity:0}to{-moz-transform:translatex(0);transform:translatex(0);opacity:1}}@-o-keyframes slideInRight{from{-o-transform:translatex(20px);transform:translatex(20px);opacity:0}to{-o-transform:translatex(0);transform:translatex(0);opacity:1}}@keyframes slideInRight{from{-webkit-transform:translatex(20px);-moz-transform:translatex(20px);-o-transform:translatex(20px);transform:translatex(20px);opacity:0}to{-webkit-transform:translatex(0);-moz-transform:translatex(0);-o-transform:translatex(0);transform:translatex(0);opacity:1}}@-webkit-keyframes scaleIn{from{-webkit-transform:scale(.9);transform:scale(.9);opacity:0}to{-webkit-transform:scale(1);transform:scale(1);opacity:1}}@-moz-keyframes scaleIn{from{-moz-transform:scale(.9);transform:scale(.9);opacity:0}to{-moz-transform:scale(1);transform:scale(1);opacity:1}}@-o-keyframes scaleIn{from{-o-transform:scale(.9);transform:scale(.9);opacity:0}to{-o-transform:scale(1);transform:scale(1);opacity:1}}@keyframes scaleIn{from{-webkit-transform:scale(.9);-moz-transform:scale(.9);-o-transform:scale(.9);transform:scale(.9);opacity:0}to{-webkit-transform:scale(1);-moz-transform:scale(1);-o-transform:scale(1);transform:scale(1);opacity:1}}@-webkit-keyframes bounceIn{0%{opacity:0;-webkit-transform:scale(.3);transform:scale(.3)}50%{opacity:1;-webkit-transform:scale(1.05);transform:scale(1.05)}70%{-webkit-transform:scale(.9);transform:scale(.9)}100%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}}@-moz-keyframes bounceIn{0%{opacity:0;-moz-transform:scale(.3);transform:scale(.3)}50%{opacity:1;-moz-transform:scale(1.05);transform:scale(1.05)}70%{-moz-transform:scale(.9);transform:scale(.9)}100%{opacity:1;-moz-transform:scale(1);transform:scale(1)}}@-o-keyframes bounceIn{0%{opacity:0;-o-transform:scale(.3);transform:scale(.3)}50%{opacity:1;-o-transform:scale(1.05);transform:scale(1.05)}70%{-o-transform:scale(.9);transform:scale(.9)}100%{opacity:1;-o-transform:scale(1);transform:scale(1)}}@keyframes bounceIn{0%{opacity:0;-webkit-transform:scale(.3);-moz-transform:scale(.3);-o-transform:scale(.3);transform:scale(.3)}50%{opacity:1;-webkit-transform:scale(1.05);-moz-transform:scale(1.05);-o-transform:scale(1.05);transform:scale(1.05)}70%{-webkit-transform:scale(.9);-moz-transform:scale(.9);-o-transform:scale(.9);transform:scale(.9)}100%{opacity:1;-webkit-transform:scale(1);-moz-transform:scale(1);-o-transform:scale(1);transform:scale(1)}}@-webkit-keyframes pulse{0%{-webkit-transform:scale(1);transform:scale(1)}50%{-webkit-transform:scale(1.05);transform:scale(1.05)}100%{-webkit-transform:scale(1);transform:scale(1)}}@-moz-keyframes pulse{0%{-moz-transform:scale(1);transform:scale(1)}50%{-moz-transform:scale(1.05);transform:scale(1.05)}100%{-moz-transform:scale(1);transform:scale(1)}}@-o-keyframes pulse{0%{-o-transform:scale(1);transform:scale(1)}50%{-o-transform:scale(1.05);transform:scale(1.05)}100%{-o-transform:scale(1);transform:scale(1)}}@keyframes pulse{0%{-webkit-transform:scale(1);-moz-transform:scale(1);-o-transform:scale(1);transform:scale(1)}50%{-webkit-transform:scale(1.05);-moz-transform:scale(1.05);-o-transform:scale(1.05);transform:scale(1.05)}100%{-webkit-transform:scale(1);-moz-transform:scale(1);-o-transform:scale(1);transform:scale(1)}}@-webkit-keyframes shake{0%,100%{-webkit-transform:translatex(0);transform:translatex(0)}10%,30%,50%,70%,90%{-webkit-transform:translatex(-5px);transform:translatex(-5px)}20%,40%,60%,80%{-webkit-transform:translatex(5px);transform:translatex(5px)}}@-moz-keyframes shake{0%,100%{-moz-transform:translatex(0);transform:translatex(0)}10%,30%,50%,70%,90%{-moz-transform:translatex(-5px);transform:translatex(-5px)}20%,40%,60%,80%{-moz-transform:translatex(5px);transform:translatex(5px)}}@-o-keyframes shake{0%,100%{-o-transform:translatex(0);transform:translatex(0)}10%,30%,50%,70%,90%{-o-transform:translatex(-5px);transform:translatex(-5px)}20%,40%,60%,80%{-o-transform:translatex(5px);transform:translatex(5px)}}@keyframes shake{0%,100%{-webkit-transform:translatex(0);-moz-transform:translatex(0);-o-transform:translatex(0);transform:translatex(0)}10%,30%,50%,70%,90%{-webkit-transform:translatex(-5px);-moz-transform:translatex(-5px);-o-transform:translatex(-5px);transform:translatex(-5px)}20%,40%,60%,80%{-webkit-transform:translatex(5px);-moz-transform:translatex(5px);-o-transform:translatex(5px);transform:translatex(5px)}}.shake{-webkit-animation:shake.5s ease-in-out;-moz-animation:shake.5s ease-in-out;-o-animation:shake.5s ease-in-out;animation:shake.5s ease-in-out}@-webkit-keyframes spin{from{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-moz-keyframes spin{from{-moz-transform:rotate(0deg);transform:rotate(0deg)}to{-moz-transform:rotate(360deg);transform:rotate(360deg)}}@-o-keyframes spin{from{-o-transform:rotate(0deg);transform:rotate(0deg)}to{-o-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spin{from{-webkit-transform:rotate(0deg);-moz-transform:rotate(0deg);-o-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(360deg);-moz-transform:rotate(360deg);-o-transform:rotate(360deg);transform:rotate(360deg)}}.spin{-webkit-animation:spin 1s linear infinite;-moz-animation:spin 1s linear infinite;-o-animation:spin 1s linear infinite;animation:spin 1s linear infinite}"}),f=({children:t})=>(0,a.jsxs)(a.Fragment,{children:[a.jsx(d,{}),t]})},997:(t,e,r)=>{"use strict";r.r(e),r.d(e,{ButtonLoader:()=>n,CardSkeleton:()=>i,FormSkeleton:()=>m,Loader:()=>s,PageLoader:()=>o,ProductCardSkeleton:()=>l,TableSkeleton:()=>c,default:()=>d});var a=r(80);r(9885);let s=({size:t="md",variant:e="default",text:r,className:s="",containerClassName:o=""})=>a.jsx("div",{className:`${{default:"flex items-center justify-center",button:"inline-flex items-center justify-center",inline:"inline-flex items-center",page:"fixed inset-0 z-[9999] flex items-center justify-center bg-white/80 backdrop-blur-sm"}[e]} ${o}`,children:(0,a.jsxs)("div",{className:`${{default:"",button:"",inline:"",page:"bg-white p-8 rounded-2xl shadow-xl border border-secondary-100 premium-shadow flex flex-col items-center"}[e]}`,children:[(0,a.jsxs)("div",{className:`relative ${{xs:"w-4 h-4",sm:"w-6 h-6",md:"w-10 h-10",lg:"w-16 h-16",xl:"w-24 h-24",full:"w-32 h-32"}[t]} ${s}`,children:[a.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-br from-primary-300 to-gold-300 p-[2px]",children:a.jsx("div",{className:"absolute inset-0 rounded-full bg-white"})}),a.jsx("div",{className:"absolute inset-0 rounded-full border-2 border-transparent animate-spin",style:{borderLeftColor:"#ffd091",borderTopColor:"#ffd091",animationDuration:"0.8s"}}),a.jsx("div",{className:"absolute inset-[15%] rounded-full bg-gradient-to-br from-primary-50 to-cream-50 flex items-center justify-center",children:a.jsx("span",{className:"text-primary-500 font-bold text-[40%]",children:"DB"})})]}),r&&a.jsx("p",{className:`mt-4 ${{xs:"text-xs",sm:"text-xs",md:"text-sm",lg:"text-base",xl:"text-lg",full:"text-xl"}[t]} text-charcoal-600 font-medium`,children:r})]})}),o=t=>a.jsx(s,{variant:"page",size:"xl",text:"Загрузка...",...t}),n=t=>a.jsx(s,{variant:"button",size:"sm",...t}),l=({count:t=6,...e})=>a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-8",children:Array.from({length:t}).map((t,r)=>a.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-secondary-100 h-[400px] flex items-center justify-center",children:a.jsx(s,{size:"lg",text:"Загрузка...",...e})},r))}),i=l,c=t=>a.jsx("div",{className:"p-8 text-center",children:a.jsx(s,{size:"lg",text:"Загрузка таблицы...",...t})}),m=t=>a.jsx("div",{className:"p-8 text-center",children:a.jsx(s,{size:"lg",text:"Загрузка формы...",...t})}),d=s},4423:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>c});var a=r(80),s=r(3728),o=r(9885),n=r(7114);let l=()=>{let[t,e]=(0,o.useState)(!1),r=(0,n.usePathname)(),a=(0,o.useRef)(!0),s=(0,o.useRef)(null),l=(0,o.useRef)(!0),i=(0,o.useRef)(r);return(0,o.useEffect)(()=>{},[]),(0,o.useEffect)(()=>{if(!l.current&&a.current&&i.current!==r)return s.current&&clearTimeout(s.current),e(!0),s.current=setTimeout(()=>{a.current&&e(!1)},300),i.current=r,()=>{s.current&&clearTimeout(s.current)}},[r]),t};var i=r(997);let c=()=>{let t=l();return t?a.jsx(s.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},children:a.jsx(i.Loader,{variant:"page",size:"full",text:"Загрузка страницы..."})}):null}},8384:(t,e,r)=>{"use strict";r.d(e,{z:()=>c});var a=r(80),s=r(9885),o=r(1085),n=r(7389),l=r(3161);let i=(0,n.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-all duration-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-gradient-to-r from-primary-300 to-primary-500 text-primary-900 hover:from-primary-400 hover:to-primary-600 shadow-md hover:shadow-lg transform hover:-translate-y-0.5",destructive:"bg-gradient-to-r from-destructive to-destructive/90 text-destructive-foreground hover:from-destructive/90 hover:to-destructive shadow-md hover:shadow-lg transform hover:-translate-y-0.5",outline:"border-2 border-secondary-200 bg-white hover:border-primary-300 hover:text-primary-600 shadow-sm hover:shadow-md transform hover:-translate-y-0.5",secondary:"bg-gradient-to-r from-secondary-500 to-secondary-600 text-secondary-foreground hover:from-secondary-600 hover:to-secondary-700 shadow-md hover:shadow-lg transform hover:-translate-y-0.5",ghost:"hover:bg-primary-50 hover:text-primary-600 transform hover:-translate-y-0.5",link:"text-primary-600 underline-offset-4 hover:underline hover:text-primary-700",premium:"bg-gradient-to-r from-gold-400 to-gold-600 text-charcoal-900 hover:from-gold-500 hover:to-gold-700 shadow-md hover:shadow-lg transform hover:-translate-y-0.5 border border-gold-300",accent:"bg-gradient-to-r from-accent-400 to-accent-500 text-white hover:from-accent-500 hover:to-accent-600 shadow-md hover:shadow-lg transform hover:-translate-y-0.5"},size:{default:"h-11 px-5 py-2.5 rounded-lg",sm:"h-9 rounded-md px-3 py-2 text-xs",lg:"h-12 rounded-lg px-8 py-3 text-base",xl:"h-14 rounded-xl px-10 py-4 text-lg",icon:"h-10 w-10 rounded-full"}},defaultVariants:{variant:"default",size:"default"}}),c=s.forwardRef(({className:t,variant:e,size:r,asChild:s=!1,...n},c)=>{let m=s?o.g7:"button";return a.jsx(m,{className:(0,l.cn)(i({variant:e,size:r,className:t})),ref:c,...n})});c.displayName="Button"},8106:(t,e,r)=>{"use strict";r.d(e,{L:()=>i,z:()=>c});var a=r(80),s=r(9885),o=r(7936);let n=[{_id:"glasses",name:"Очки",slug:"glasses",isActive:!0,sortOrder:1,level:1,categoryType:"GLASSES"},{_id:"clothing",name:"Одежда",slug:"clothing",isActive:!0,sortOrder:2,level:1,categoryType:"CLOTHING"},{_id:"shoes",name:"Обувь",slug:"shoes",isActive:!0,sortOrder:3,level:1,categoryType:"SHOES"},{_id:"accessories",name:"Аксессуары",slug:"accessories",isActive:!0,sortOrder:4,level:1,categoryType:"ACCESSORIES"}],l=(0,s.createContext)({categories:n,isLoading:!1,error:null}),i=()=>(0,s.useContext)(l),c=({children:t})=>{let[e,r]=(0,s.useState)(n),[i,c]=(0,s.useState)(!1),[m,d]=(0,s.useState)(null);return(0,s.useEffect)(()=>{let t=async()=>{c(!0);try{let t=await o.h.categories.getAll(),e=t.filter(t=>t.isActive);e.length>0&&(r(e),localStorage.setItem("dvb_categories",JSON.stringify(e))),d(null)}catch(t){console.error("Failed to load categories:",t),d("Failed to load categories")}finally{c(!1)}};(()=>{try{let t=localStorage.getItem("dvb_categories");if(t){let e=JSON.parse(t);Array.isArray(e)&&e.length>0&&r(e)}}catch(t){console.error("Error loading cached categories:",t)}})(),t()},[]),a.jsx(l.Provider,{value:{categories:e,isLoading:i,error:m},children:t})}},7936:(t,e,r)=>{"use strict";r.d(e,{h:()=>o});let a="https://api.dvberry.ru/api";async function s(t,e){let r=0;for(console.log(`API Request: ${a}${t}`);r<=3;)try{let s=await fetch(`${a}${t}`,{...e,headers:{"Content-Type":"application/json",...e?.headers},credentials:"include"});if(console.log(`API Response status: ${s.status} for ${t}`),429===s.status){if(++r>3)throw Error("Too many requests. Please try again later.");let t=1e3*Math.pow(2,r);await new Promise(e=>setTimeout(e,t));continue}if(!s.ok){let e;if(t.includes("/auth/")&&(401===s.status||404===s.status))throw await s.json().catch(()=>({})),console.log("Auth endpoint returned",s.status,"- user likely not authenticated"),Error("Not authenticated");try{e=await s.json()}catch(t){e={message:`HTTP error! status: ${s.status}`}}throw console.error("API Error:",e),Error(e.message||"API request failed")}let o=await s.json();return console.log(`✅ API Response data for ${t}:`,o),t.includes("/products")&&!o?.success&&console.warn("⚠️ Products API response:",o),o}catch(e){if(console.error(`API Request failed for ${t}:`,e),e instanceof TypeError&&r<3){r++;let t=1e3*Math.pow(2,r);await new Promise(e=>setTimeout(e,t));continue}throw e}throw Error("Maximum retry attempts reached")}let o={products:{getAll:async t=>{let e=new URLSearchParams;t&&Object.entries(t).forEach(([t,r])=>{void 0!==r&&e.append(t,r.toString())});let r=e.toString(),a=`/products${r?`?${r}`:""}`;console.log("Fetching products from:",a);let o=await s(a);return(console.log("Products API response:",o),o&&!0===o.success&&o.data&&o.data.products&&Array.isArray(o.data.products))?(console.log("✅ Using server format: success.data.products"),console.log("\uD83D\uDCE6 Products count:",o.data.products.length),console.log("\uD83D\uDCE6 First product name:",o.data.products[0]?.name||"none"),{data:o.data.products,summary:{total:o.data.pagination?.total||o.data.products.length,page:o.data.pagination?.page||1,pages:o.data.pagination?.pages||1}}):o&&o.products&&Array.isArray(o.products)?(console.log("Using direct products format"),{data:o.products,summary:o.pagination||{total:o.products.length,page:1,pages:1}}):Array.isArray(o)?(console.log("Using direct array format"),{data:o,summary:{total:o.length,page:1,pages:1}}):o&&o.data&&Array.isArray(o.data)?(console.log("Using direct data array format"),{data:o.data,summary:{total:o.data.length,page:1,pages:1}}):(console.error("Unexpected API response format:",o),{data:[],summary:{total:0,page:1,pages:1}})},getById:async t=>s(`/products/${t}`),getBySlug:async t=>s(`/products/${t}`),getByCategory:async t=>{let e=await s(`/products?category=${t}`);return(console.log("Products by category API response:",e),e&&!0===e.success&&e.data&&e.data.products&&Array.isArray(e.data.products))?(console.log("✅ Using server format: success.data.products"),e.data.products):(console.error("❌ Unexpected API response format:",e),[])},getPopular:async(t=6)=>s(`/products?isFeatured=true&limit=${t}`),getNew:async(t=6)=>s(`/products?isBrandNew=true&limit=${t}`),getOnSale:async(t=6)=>s(`/products?isOnSale=true&limit=${t}`),search:async t=>{let e=await s(`/products?search=${encodeURIComponent(t)}`);return(console.log("Search API response:",e),e&&!0===e.success&&e.data&&e.data.products&&Array.isArray(e.data.products))?(console.log("✅ Using server format: success.data.products"),e.data.products):(console.error("❌ Unexpected API response format:",e),[])}},cart:{get:async()=>s("/cart"),add:async(t,e=1,r,a)=>s("/cart/add",{method:"POST",body:JSON.stringify({productId:t,quantity:e,size:r,color:a})}),update:async(t,e,r,a)=>s(`/cart/${t}`,{method:"PUT",body:JSON.stringify({quantity:e,size:r,color:a})}),remove:async(t,e,r)=>s(`/cart/${t}`,{method:"DELETE",body:JSON.stringify({size:e,color:r})}),clear:async()=>s("/cart",{method:"DELETE"})},favorites:{get:async()=>s("/favorites"),add:async t=>s("/favorites",{method:"POST",body:JSON.stringify({productId:t})}),remove:async t=>s(`/favorites/${t}`,{method:"DELETE"}),check:async t=>s(`/favorites/check/${t}`)},auth:{register:async(t,e,r,a)=>s("/auth/register",{method:"POST",body:JSON.stringify({firstName:t,lastName:e,email:r,password:a})}),login:async(t,e)=>s("/auth/login",{method:"POST",body:JSON.stringify({email:t,password:e})}),logout:async()=>s("/auth/logout",{method:"POST"}),getProfile:async()=>s("/auth/profile"),updateProfile:async(t,e,r)=>s("/auth/profile",{method:"PUT",body:JSON.stringify({firstName:t,lastName:e,email:r})}),changePassword:async(t,e)=>s("/auth/change-password",{method:"POST",body:JSON.stringify({currentPassword:t,newPassword:e})}),forgotPassword:async t=>s("/auth/forgot-password",{method:"POST",body:JSON.stringify({email:t})}),resetPassword:async(t,e)=>s("/auth/reset-password",{method:"POST",body:JSON.stringify({token:t,password:e})})},categories:{getAll:async()=>{let t=await s("/categories");return t.success&&t.data&&t.data.categories?t.data.categories:Array.isArray(t)?t:[]},getBySlug:async t=>{let e=await s(`/categories/${t}`);return e.success&&e.data&&e.data.category?e.data.category:e}},orders:{create:async(t,e)=>s("/orders",{method:"POST",body:JSON.stringify({items:t,shippingAddress:e})}),getUserOrders:async()=>s("/orders"),getOrderById:async t=>s(`/orders/${t}`)}}},3161:(t,e,r)=>{"use strict";r.d(e,{cn:()=>o});var a=r(566),s=r(8126);function o(...t){return(0,s.m6)((0,a.W)(t))}},1335:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>b,metadata:()=>w});var a=r(8144),s=r(8798),o=r.n(s),n=r(8393),l=r.n(n),i=r(6664),c=r.n(i);r(7272);var m=r(7536);let d=(0,m.createProxy)(String.raw`/Users/mikhailkolotushin/KolTech/projects/dvb/client/components/ClientProviders.tsx`),{__esModule:f,$$typeof:u}=d;d.default;let y=d.ClientProviders,p=(0,m.createProxy)(String.raw`/Users/mikhailkolotushin/KolTech/projects/dvb/client/components/ui/PageTransitionLoader.tsx`),{__esModule:x,$$typeof:g}=p,h=p.default,w={title:"DV BERRY - Стильные очки и модная одежда",description:"Эксклюзивные солнцезащитные очки из Китая и качественная одежда из Европы. Оригинальность, стиль и качество."};function b({children:t}){return a.jsx("html",{lang:"ru",children:(0,a.jsxs)("body",{className:`${o().variable} ${l().variable} ${c().variable} font-sans`,children:[(0,a.jsxs)("svg",{width:"0",height:"0",style:{position:"absolute"},children:[(0,a.jsxs)("linearGradient",{id:"orange-gradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[a.jsx("stop",{offset:"0%",stopColor:"#D35400"}),a.jsx("stop",{offset:"100%",stopColor:"#D35400"})]}),(0,a.jsxs)("linearGradient",{id:"custard-peach-gradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[a.jsx("stop",{offset:"0%",stopColor:"#EED970"}),a.jsx("stop",{offset:"100%",stopColor:"#FFBE7C"})]})]}),(0,a.jsxs)(y,{children:[t,a.jsx(h,{})]})]})})}},7272:()=>{}};