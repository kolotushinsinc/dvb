"use strict";exports.id=3089,exports.ids=[3089],exports.modules={3089:(e,t,r)=>{r.d(t,{ck:()=>C,fC:()=>T,Pc:()=>x});var o=r(9885),n=r(2840),u=r(5537),s=r(880),i=r(80),a=r(6529),c=r(3979),l=r(2285),f=r(3408),p=r(3994),d="rovingFocusGroup.onEntryFocus",m={bubbles:!1,cancelable:!0},v="RovingFocusGroup",[w,g,b]=(0,u.B)(v),[h,x]=function(e,t=[]){let r=[],n=()=>{let t=r.map(e=>o.createContext(e));return function(r){let n=r?.[e]||t;return o.useMemo(()=>({[`__scope${e}`]:{...r,[e]:n}}),[r,n])}};return n.scopeName=e,[function(t,n){let u=o.createContext(n),s=r.length;function a(t){let{scope:r,children:n,...a}=t,c=r?.[e][s]||u,l=o.useMemo(()=>a,Object.values(a));return(0,i.jsx)(c.Provider,{value:l,children:n})}return r=[...r,n],a.displayName=t+"Provider",[a,function(r,i){let a=i?.[e][s]||u,c=o.useContext(a);if(c)return c;if(void 0!==n)return n;throw Error(`\`${r}\` must be used within \`${t}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let r=()=>{let r=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let n=r.reduce((t,{useScope:r,scopeName:o})=>{let n=r(e),u=n[`__scope${o}`];return{...t,...u}},{});return o.useMemo(()=>({[`__scope${t.scopeName}`]:n}),[n])}};return r.scopeName=t.scopeName,r}(n,...t)]}(v,[b]),[y,F]=h(v),M=o.forwardRef((e,t)=>(0,i.jsx)(w.Provider,{scope:e.__scopeRovingFocusGroup,children:(0,i.jsx)(w.Slot,{scope:e.__scopeRovingFocusGroup,children:(0,i.jsx)(R,{...e,ref:t})})}));M.displayName=v;var R=o.forwardRef((e,t)=>{let{__scopeRovingFocusGroup:r,orientation:u,loop:a=!1,dir:v,currentTabStopId:w,defaultCurrentTabStopId:b,onCurrentTabStopIdChange:h,onEntryFocus:x,preventScrollOnEntryFocus:F=!1,...M}=e,R=o.useRef(null),A=(0,s.e)(t,R),I=(0,p.gm)(v),[D=null,T]=(0,f.T)({prop:w,defaultProp:b,onChange:h}),[C,_]=o.useState(!1),j=(0,l.W)(x),N=g(r),S=o.useRef(!1),[P,k]=o.useState(0);return o.useEffect(()=>{let e=R.current;if(e)return e.addEventListener(d,j),()=>e.removeEventListener(d,j)},[j]),(0,i.jsx)(y,{scope:r,orientation:u,dir:I,loop:a,currentTabStopId:D,onItemFocus:o.useCallback(e=>T(e),[T]),onItemShiftTab:o.useCallback(()=>_(!0),[]),onFocusableItemAdd:o.useCallback(()=>k(e=>e+1),[]),onFocusableItemRemove:o.useCallback(()=>k(e=>e-1),[]),children:(0,i.jsx)(c.WV.div,{tabIndex:C||0===P?-1:0,"data-orientation":u,...M,ref:A,style:{outline:"none",...e.style},onMouseDown:(0,n.M)(e.onMouseDown,()=>{S.current=!0}),onFocus:(0,n.M)(e.onFocus,e=>{let t=!S.current;if(e.target===e.currentTarget&&t&&!C){let t=new CustomEvent(d,m);if(e.currentTarget.dispatchEvent(t),!t.defaultPrevented){let e=N().filter(e=>e.focusable),t=e.find(e=>e.active),r=e.find(e=>e.id===D),o=[t,r,...e].filter(Boolean),n=o.map(e=>e.ref.current);E(n,F)}}S.current=!1}),onBlur:(0,n.M)(e.onBlur,()=>_(!1))})})}),A="RovingFocusGroupItem",I=o.forwardRef((e,t)=>{let{__scopeRovingFocusGroup:r,focusable:u=!0,active:s=!1,tabStopId:l,...f}=e,p=(0,a.M)(),d=l||p,m=F(A,r),v=m.currentTabStopId===d,b=g(r),{onFocusableItemAdd:h,onFocusableItemRemove:x}=m;return o.useEffect(()=>{if(u)return h(),()=>x()},[u,h,x]),(0,i.jsx)(w.ItemSlot,{scope:r,id:d,focusable:u,active:s,children:(0,i.jsx)(c.WV.span,{tabIndex:v?0:-1,"data-orientation":m.orientation,...f,ref:t,onMouseDown:(0,n.M)(e.onMouseDown,e=>{u?m.onItemFocus(d):e.preventDefault()}),onFocus:(0,n.M)(e.onFocus,()=>m.onItemFocus(d)),onKeyDown:(0,n.M)(e.onKeyDown,e=>{if("Tab"===e.key&&e.shiftKey){m.onItemShiftTab();return}if(e.target!==e.currentTarget)return;let t=function(e,t,r){var o;let n=(o=e.key,"rtl"!==r?o:"ArrowLeft"===o?"ArrowRight":"ArrowRight"===o?"ArrowLeft":o);if(!("vertical"===t&&["ArrowLeft","ArrowRight"].includes(n))&&!("horizontal"===t&&["ArrowUp","ArrowDown"].includes(n)))return D[n]}(e,m.orientation,m.dir);if(void 0!==t){if(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)return;e.preventDefault();let r=b().filter(e=>e.focusable),o=r.map(e=>e.ref.current);if("last"===t)o.reverse();else if("prev"===t||"next"===t){"prev"===t&&o.reverse();let r=o.indexOf(e.currentTarget);o=m.loop?function(e,t){return e.map((r,o)=>e[(t+o)%e.length])}(o,r+1):o.slice(r+1)}setTimeout(()=>E(o))}})})})});I.displayName=A;var D={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function E(e,t=!1){let r=document.activeElement;for(let o of e)if(o===r||(o.focus({preventScroll:t}),document.activeElement!==r))return}var T=M,C=I}};