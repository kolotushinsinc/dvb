(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[285],{6346:function(e,r,a){Promise.resolve().then(a.bind(a,3278))},3278:function(e,r,a){"use strict";a.r(r),a.d(r,{default:function(){return q}});var s=a(7437),t=a(2265),c=a(4033),l=a(1088),o=a(1517),d=a(3023),n=a(6110),i=a(1908),m=a(6672),u=a(5490),h=a(6369),x=a(9311);let f=t.forwardRef((e,r)=>{let{className:a,...t}=e;return(0,s.jsx)(u.fC,{className:(0,x.cn)("grid gap-2",a),...t,ref:r})});f.displayName=u.fC.displayName;let p=t.forwardRef((e,r)=>{let{className:a,...t}=e;return(0,s.jsx)(u.ck,{ref:r,className:(0,x.cn)("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),...t,children:(0,s.jsx)(u.z$,{className:"flex items-center justify-center",children:(0,s.jsx)(h.Z,{className:"h-2.5 w-2.5 fill-current text-current"})})})});p.displayName=u.ck.displayName;var y=a(6775),b=a(9155),g=a(3067),N=a(4322),j=a(1961),v=a(1738),w=a(9036),C=a(4530),F=a(6712),_=a(8554),I=a(1424),k=a(1396),E=a.n(k),R=a(164),Z=a(8188),z=a(1945),q=()=>{let e=(0,c.useRouter)(),{items:r,totalPrice:a,loading:u,clearCart:h}=(0,_.j)(),[x,k]=(0,t.useState)(!1),[q,A]=(0,t.useState)(300),[V,O]=(0,t.useState)({email:"",phone:"",firstName:"",lastName:"",address:"",city:"",state:"",postalCode:"",country:"Россия",paymentMethod:"card",cardNumber:"",cardExpiry:"",cardCVC:"",cardName:"",notes:""});(0,t.useEffect)(()=>{u||0!==r.length||(I.Am.error("Корзина пуста"),e.push("/cart"))},[r,u,e]),(0,t.useEffect)(()=>{A(a>5e3?0:300)},[a]);let M=e=>{let{name:r,value:a}=e.target;O(e=>({...e,[r]:a}))},S=()=>V.email&&V.phone&&V.firstName&&V.lastName&&V.address&&V.city&&V.postalCode?"card"!==V.paymentMethod||!!V.cardNumber&&!!V.cardExpiry&&!!V.cardCVC&&!!V.cardName||(I.Am.error("Пожалуйста, заполните все данные карты"),!1):(I.Am.error("Пожалуйста, заполните все обязательные поля"),!1),B=async a=>{if(a.preventDefault(),S())try{k(!0);let a=r.map(e=>({productId:e.product._id,quantity:e.quantity,size:e.size,color:e.color})),s={firstName:V.firstName,lastName:V.lastName,address:V.address,city:V.city,state:V.state,postalCode:V.postalCode,country:V.country,phone:V.phone},t=await R.h.orders.create(a,s);await h(),I.Am.success("Заказ успешно оформлен!"),e.push("/order-confirmation/".concat(t._id))}catch(e){I.Am.error(e.message||"Не удалось оформить заказ"),console.error("Checkout error:",e)}finally{k(!1)}},H=e=>new Intl.NumberFormat("ru-RU").format(e)+" ₽",Y=a+q;return u?(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-cream-50 to-white flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsxs)("div",{className:"w-20 h-20 relative mx-auto mb-6",children:[(0,s.jsx)("div",{className:"absolute top-0 left-0 w-full h-full rounded-full border-4 border-secondary-100 opacity-25"}),(0,s.jsx)("div",{className:"absolute top-0 left-0 w-full h-full rounded-full border-4 border-t-primary-400 border-r-transparent border-b-transparent border-l-transparent animate-spin"})]}),(0,s.jsx)("p",{className:"text-lg text-charcoal-600 font-medium",children:"Загрузка данных..."}),(0,s.jsx)("p",{className:"mt-2 text-charcoal-500",children:"Пожалуйста, подождите"})]})}):0===r.length?null:(0,s.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-cream-50 to-white",children:[(0,s.jsx)(l.Header,{}),(0,s.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[(0,s.jsxs)("div",{className:"mb-12 text-center md:text-left",children:[(0,s.jsx)("div",{className:"inline-block mb-4",children:(0,s.jsx)("span",{className:"text-sm text-charcoal-500 uppercase tracking-wider font-medium bg-secondary-50 px-3 py-1 rounded-full",children:"Оформление заказа"})}),(0,s.jsxs)("h1",{className:"font-display text-3xl lg:text-5xl font-bold text-charcoal-800 mb-4 tracking-tight",children:["Оформление ",(0,s.jsx)("span",{className:"premium-text",children:"заказа"})]}),(0,s.jsx)("p",{className:"text-lg text-charcoal-600 max-w-2xl md:mx-0 mx-auto",children:"Заполните данные для завершения покупки"}),(0,s.jsx)("div",{className:"mt-6",children:(0,s.jsxs)(E(),{href:"/cart",className:"inline-flex items-center text-primary-500 hover:text-primary-600 transition-colors",children:[(0,s.jsx)(g.Z,{className:"w-4 h-4 mr-2"}),(0,s.jsx)("span",{className:"border-b border-primary-300 hover:border-primary-500",children:"Вернуться в корзину"})]})})]}),(0,s.jsxs)("form",{onSubmit:B,className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,s.jsxs)("div",{className:"lg:col-span-2 space-y-8",children:[(0,s.jsxs)(n.Zb,{className:"border-secondary-100 shadow-lg premium-shadow rounded-2xl overflow-hidden",children:[(0,s.jsx)(n.Ol,{className:"bg-gradient-to-r from-cream-50 to-white border-b border-secondary-100",children:(0,s.jsxs)(n.ll,{className:"flex items-center text-charcoal-800 font-heading",children:[(0,s.jsx)(N.Z,{className:"w-5 h-5 mr-2 text-primary-500"}),"Контактная информация"]})}),(0,s.jsx)(n.aY,{className:"space-y-4 pt-6",children:(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(m._,{htmlFor:"email",className:"text-charcoal-700 font-medium",children:"Email *"}),(0,s.jsx)(i.I,{id:"email",name:"email",type:"email",required:!0,value:V.email,onChange:M,placeholder:"your@email.com",className:"bg-secondary-50 border-secondary-200 focus:border-primary-300 focus:ring-primary-200 focus:bg-white text-charcoal-800 rounded-lg mt-1.5"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(m._,{htmlFor:"phone",className:"text-charcoal-700 font-medium",children:"Телефон *"}),(0,s.jsx)(i.I,{id:"phone",name:"phone",type:"tel",required:!0,value:V.phone,onChange:M,placeholder:"+7 (999) 123-45-67",className:"bg-secondary-50 border-secondary-200 focus:border-primary-300 focus:ring-primary-200 focus:bg-white text-charcoal-800 rounded-lg mt-1.5"})]})]})})]}),(0,s.jsxs)(n.Zb,{className:"border-secondary-100 shadow-lg premium-shadow rounded-2xl overflow-hidden",children:[(0,s.jsx)(n.Ol,{className:"bg-gradient-to-r from-cream-50 to-white border-b border-secondary-100",children:(0,s.jsxs)(n.ll,{className:"flex items-center text-charcoal-800 font-heading",children:[(0,s.jsx)(j.Z,{className:"w-5 h-5 mr-2 text-primary-500"}),"Адрес доставки"]})}),(0,s.jsxs)(n.aY,{className:"space-y-4 pt-6",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(m._,{htmlFor:"firstName",className:"text-charcoal-700 font-medium",children:"Имя *"}),(0,s.jsx)(i.I,{id:"firstName",name:"firstName",required:!0,value:V.firstName,onChange:M,placeholder:"Иван",className:"bg-secondary-50 border-secondary-200 focus:border-primary-300 focus:ring-primary-200 focus:bg-white text-charcoal-800 rounded-lg mt-1.5"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(m._,{htmlFor:"lastName",className:"text-charcoal-700 font-medium",children:"Фамилия *"}),(0,s.jsx)(i.I,{id:"lastName",name:"lastName",required:!0,value:V.lastName,onChange:M,placeholder:"Иванов",className:"bg-secondary-50 border-secondary-200 focus:border-primary-300 focus:ring-primary-200 focus:bg-white text-charcoal-800 rounded-lg mt-1.5"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(m._,{htmlFor:"address",className:"text-charcoal-700 font-medium",children:"Адрес *"}),(0,s.jsx)(i.I,{id:"address",name:"address",required:!0,value:V.address,onChange:M,placeholder:"Ул. Ленина, д. 1, кв. 1",className:"bg-secondary-50 border-secondary-200 focus:border-primary-300 focus:ring-primary-200 focus:bg-white text-charcoal-800 rounded-lg mt-1.5"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(m._,{htmlFor:"city",className:"text-charcoal-700 font-medium",children:"Город *"}),(0,s.jsx)(i.I,{id:"city",name:"city",required:!0,value:V.city,onChange:M,placeholder:"Москва",className:"bg-secondary-50 border-secondary-200 focus:border-primary-300 focus:ring-primary-200 focus:bg-white text-charcoal-800 rounded-lg mt-1.5"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(m._,{htmlFor:"state",className:"text-charcoal-700 font-medium",children:"Область/край"}),(0,s.jsx)(i.I,{id:"state",name:"state",value:V.state,onChange:M,placeholder:"Московская обл.",className:"bg-secondary-50 border-secondary-200 focus:border-primary-300 focus:ring-primary-200 focus:bg-white text-charcoal-800 rounded-lg mt-1.5"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(m._,{htmlFor:"postalCode",className:"text-charcoal-700 font-medium",children:"Почтовый индекс *"}),(0,s.jsx)(i.I,{id:"postalCode",name:"postalCode",required:!0,value:V.postalCode,onChange:M,placeholder:"123456",className:"bg-secondary-50 border-secondary-200 focus:border-primary-300 focus:ring-primary-200 focus:bg-white text-charcoal-800 rounded-lg mt-1.5"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(m._,{htmlFor:"country",className:"text-charcoal-700 font-medium",children:"Страна"}),(0,s.jsx)(i.I,{id:"country",name:"country",value:V.country,onChange:M,className:"bg-secondary-50 border-secondary-200 focus:border-primary-300 focus:ring-primary-200 focus:bg-white text-charcoal-800 rounded-lg mt-1.5"})]})]})]}),(0,s.jsxs)(n.Zb,{className:"border-secondary-100 shadow-lg premium-shadow rounded-2xl overflow-hidden",children:[(0,s.jsx)(n.Ol,{className:"bg-gradient-to-r from-cream-50 to-white border-b border-secondary-100",children:(0,s.jsxs)(n.ll,{className:"flex items-center text-charcoal-800 font-heading",children:[(0,s.jsx)(v.Z,{className:"w-5 h-5 mr-2 text-primary-500"}),"Способ оплаты"]})}),(0,s.jsxs)(n.aY,{className:"space-y-6 pt-6",children:[(0,s.jsxs)(f,{value:V.paymentMethod,onValueChange:e=>{O(r=>({...r,paymentMethod:e}))},className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3 bg-secondary-50 p-4 rounded-xl border border-secondary-100 hover:border-primary-200 transition-colors cursor-pointer",children:[(0,s.jsx)(p,{value:"card",id:"card",className:"text-primary-500"}),(0,s.jsxs)(m._,{htmlFor:"card",className:"cursor-pointer text-charcoal-800 font-medium flex items-center",children:[(0,s.jsx)(v.Z,{className:"w-5 h-5 mr-2 text-primary-500"}),"Банковская карта"]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-3 bg-secondary-50 p-4 rounded-xl border border-secondary-100 hover:border-primary-200 transition-colors cursor-pointer",children:[(0,s.jsx)(p,{value:"cash",id:"cash",className:"text-primary-500"}),(0,s.jsxs)(m._,{htmlFor:"cash",className:"cursor-pointer text-charcoal-800 font-medium flex items-center",children:[(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5 mr-2 text-primary-500",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,s.jsx)("rect",{x:"2",y:"6",width:"20",height:"12",rx:"2"}),(0,s.jsx)("circle",{cx:"12",cy:"12",r:"2"}),(0,s.jsx)("path",{d:"M6 12h.01M18 12h.01"})]}),"Наличные при получении"]})]})]}),"card"===V.paymentMethod&&(0,s.jsxs)("div",{className:"space-y-4 pt-4 border-t border-secondary-100 mt-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(m._,{htmlFor:"cardName",className:"text-charcoal-700 font-medium",children:"Имя на карте *"}),(0,s.jsx)(i.I,{id:"cardName",name:"cardName",required:!0,value:V.cardName,onChange:M,placeholder:"IVAN IVANOV",className:"bg-secondary-50 border-secondary-200 focus:border-primary-300 focus:ring-primary-200 focus:bg-white text-charcoal-800 rounded-lg mt-1.5"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(m._,{htmlFor:"cardNumber",className:"text-charcoal-700 font-medium",children:"Номер карты *"}),(0,s.jsx)(i.I,{id:"cardNumber",name:"cardNumber",required:!0,value:V.cardNumber,onChange:M,placeholder:"0000 0000 0000 0000",className:"bg-secondary-50 border-secondary-200 focus:border-primary-300 focus:ring-primary-200 focus:bg-white text-charcoal-800 rounded-lg mt-1.5"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(m._,{htmlFor:"cardExpiry",className:"text-charcoal-700 font-medium",children:"Срок действия *"}),(0,s.jsx)(i.I,{id:"cardExpiry",name:"cardExpiry",required:!0,value:V.cardExpiry,onChange:M,placeholder:"ММ/ГГ",className:"bg-secondary-50 border-secondary-200 focus:border-primary-300 focus:ring-primary-200 focus:bg-white text-charcoal-800 rounded-lg mt-1.5"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(m._,{htmlFor:"cardCVC",className:"text-charcoal-700 font-medium",children:"CVC *"}),(0,s.jsx)(i.I,{id:"cardCVC",name:"cardCVC",required:!0,value:V.cardCVC,onChange:M,placeholder:"000",className:"bg-secondary-50 border-secondary-200 focus:border-primary-300 focus:ring-primary-200 focus:bg-white text-charcoal-800 rounded-lg mt-1.5"})]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-charcoal-600 bg-cream-50 p-3 rounded-xl border border-secondary-100",children:[(0,s.jsx)(w.Z,{className:"w-5 h-5 text-primary-500"}),(0,s.jsx)("span",{children:"Ваши платежные данные защищены и безопасны"})]})]})]})]}),(0,s.jsxs)(n.Zb,{className:"border-secondary-100 shadow-lg premium-shadow rounded-2xl overflow-hidden",children:[(0,s.jsx)(n.Ol,{className:"bg-gradient-to-r from-cream-50 to-white border-b border-secondary-100",children:(0,s.jsx)(n.ll,{className:"text-charcoal-800 font-heading",children:"Комментарий к заказу"})}),(0,s.jsxs)(n.aY,{className:"pt-6",children:[(0,s.jsx)(m._,{htmlFor:"notes",className:"text-charcoal-700 font-medium mb-1.5 block",children:"Дополнительная информация"}),(0,s.jsx)(i.I,{id:"notes",name:"notes",value:V.notes,onChange:M,placeholder:"Любые дополнительные пожелания или комментарии к заказу",className:"bg-secondary-50 border-secondary-200 focus:border-primary-300 focus:ring-primary-200 focus:bg-white text-charcoal-800 rounded-lg"})]})]}),(0,s.jsx)(d.z,{type:"submit",className:"w-full bg-gradient-to-r from-primary-400 to-primary-500 hover:from-primary-500 hover:to-primary-600 text-primary-900 font-medium px-6 py-6 h-auto rounded-full shadow-lg hover:shadow-xl transition-all duration-300 border-none text-lg",disabled:x,children:x?(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"w-5 h-5 border-2 border-primary-900 border-t-transparent rounded-full animate-spin mr-2"}),"Оформление заказа..."]}):(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(C.Z,{className:"w-5 h-5 mr-2"}),"Оплатить ",H(Y)]})})]}),(0,s.jsx)("div",{className:"lg:col-span-1",children:(0,s.jsxs)(n.Zb,{className:"border-secondary-100 shadow-lg premium-shadow rounded-2xl overflow-hidden sticky top-8",children:[(0,s.jsx)(n.Ol,{className:"bg-gradient-to-r from-cream-50 to-white border-b border-secondary-100",children:(0,s.jsx)(n.ll,{className:"text-charcoal-800 font-heading",children:"Ваш заказ"})}),(0,s.jsxs)(n.aY,{className:"space-y-5 pt-6",children:[(0,s.jsx)("div",{className:"space-y-4 max-h-80 overflow-y-auto pr-2",children:r.map(e=>{var r;return(0,s.jsxs)("div",{className:"flex gap-4 pb-4 border-b border-secondary-100 hover:bg-cream-50/30 transition-colors p-3 rounded-lg",children:[(0,s.jsx)("div",{className:"w-16 h-16 bg-secondary-50 rounded-lg overflow-hidden flex-shrink-0 border border-secondary-100 shadow-sm",children:e.product.mainImage?(0,s.jsx)(z.w,{src:e.product.mainImage,alt:e.product.name,className:"w-full h-full object-cover"}):e.product.images&&e.product.images.length>0?(0,s.jsx)(z.w,{src:e.product.images[0].url,alt:e.product.name,className:"w-full h-full object-cover"}):(0,s.jsx)("div",{className:"w-full h-full flex items-center justify-center bg-secondary-100",children:(0,s.jsx)(F.Z,{className:"h-6 w-6 text-secondary-400"})})}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)("p",{className:"font-medium truncate text-charcoal-800",children:e.product.name}),(0,s.jsxs)("p",{className:"text-sm text-charcoal-500",children:[e.quantity," \xd7 ",H(e.product.price)]}),(e.size||e.color)&&(0,s.jsxs)("div",{className:"flex gap-2 mt-1 items-center",children:[e.size&&(0,s.jsxs)(b.C,{variant:"outline",className:"bg-secondary-50 text-charcoal-700 border-secondary-200 text-xs",children:["Размер: ",e.size]}),e.color&&(0,s.jsxs)("div",{className:"flex items-center gap-1 bg-secondary-50 px-2 py-0.5 rounded-full border border-secondary-200 text-xs",children:[(0,s.jsx)("span",{className:"text-charcoal-600",children:"Цвет:"}),(0,s.jsx)("div",{className:"w-3 h-3 rounded-full border shadow-sm",style:{backgroundColor:(null===(r=(0,Z.OA)(e.color))||void 0===r?void 0:r.value)||"#CCCCCC",borderColor:"Белый"===e.color?"#E5E7EB":void 0},title:e.color})]})]})]}),(0,s.jsx)("div",{className:"text-right",children:(0,s.jsx)("p",{className:"font-medium text-charcoal-800",children:H(e.product.price*e.quantity)})})]},"".concat(e._id,"-").concat(e.size||"","-").concat(e.color||""))})}),(0,s.jsx)(y.Z,{className:"bg-secondary-100"}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-charcoal-600",children:"Товары"}),(0,s.jsx)("span",{className:"text-charcoal-800 font-medium",children:H(a)})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-charcoal-600",children:"Доставка"}),(0,s.jsx)("span",{className:"font-medium ".concat(0===q?"text-green-600":"text-charcoal-800"),children:0===q?"Бесплатно":H(q)})]}),q>0&&(0,s.jsx)("div",{className:"bg-cream-50 rounded-xl p-3 border border-secondary-100",children:(0,s.jsxs)("p",{className:"text-sm text-charcoal-600 flex items-center",children:[(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-2 text-primary-500",viewBox:"0 0 20 20",fill:"currentColor",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),"Бесплатная доставка при заказе от 5000 ₽"]})})]}),(0,s.jsx)(y.Z,{className:"bg-secondary-100"}),(0,s.jsxs)("div",{className:"flex justify-between font-bold text-xl",children:[(0,s.jsx)("span",{className:"text-charcoal-800",children:"Итого"}),(0,s.jsx)("span",{className:"premium-text",children:H(Y)})]}),(0,s.jsxs)("p",{className:"text-xs text-charcoal-500 text-center mt-4",children:["Нажимая кнопку \xabОплатить\xbb, вы соглашаетесь с ",(0,s.jsx)(E(),{href:"/terms",className:"text-primary-500 hover:underline",children:"условиями обработки"})," персональных данных"]})]})]})})]})]}),(0,s.jsx)(o.Footer,{})]})}},1945:function(e,r,a){"use strict";a.d(r,{w:function(){return l}});var s=a(7437),t=a(2265);let c=e=>{let{className:r="",width:a="100%",height:t="100%"}=e;return(0,s.jsx)("div",{className:"animate-pulse bg-gray-200 rounded-lg ".concat(r),style:{width:a,height:t},children:(0,s.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,s.jsx)("div",{className:"text-gray-400",children:(0,s.jsx)("svg",{className:"w-8 h-8",fill:"currentColor",viewBox:"0 0 20 20",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z",clipRule:"evenodd"})})})})})},l=e=>{let{src:r,alt:a,thumbnailSrc:l,className:o="",width:d="100%",height:n="100%",onClick:i}=e,[m,u]=(0,t.useState)(!1),[h,x]=(0,t.useState)(!0),[f,p]=(0,t.useState)(!1),[y,b]=(0,t.useState)(!1),g=(0,t.useRef)(null),N=e=>e?e.replace("https://api.dvberry.ru",""):e,j=N(r),v=l?N(l):void 0;(0,t.useEffect)(()=>{let e=new IntersectionObserver(r=>{let[a]=r;a.isIntersecting&&(w(),e.disconnect())},{threshold:.1});return g.current&&e.observe(g.current),()=>{e.disconnect()}},[]);let w=()=>{if(x(!0),p(!1),l&&!y){let e=new Image;e.onload=()=>{u(!0),x(!1),setTimeout(()=>{b(!0)},300)},e.onerror=()=>{p(!0),x(!1)},e.src=v||""}else{let e=new Image;e.onload=()=>{u(!0),x(!1)},e.onerror=()=>{p(!0),x(!1)},e.src=j}};return(0,s.jsxs)("div",{className:"relative overflow-hidden ".concat(o),style:{width:d,height:n},onClick:()=>{i&&i()},children:[h&&(0,s.jsx)(c,{width:d,height:n,className:"absolute inset-0"}),f?(0,s.jsx)("div",{className:"w-full h-full flex items-center justify-center bg-gray-100 rounded-lg",children:(0,s.jsxs)("div",{className:"text-gray-400 text-center",children:[(0,s.jsx)("svg",{className:"w-8 h-8 mx-auto mb-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z",clipRule:"evenodd"})}),(0,s.jsx)("p",{className:"text-sm",children:"Ошибка загрузки"})]})}):(0,s.jsx)("img",{ref:g,src:y?j:v||j,alt:a,className:"w-full h-full object-cover transition-opacity duration-300 ".concat(m?"opacity-100":"opacity-0"),style:{width:d,height:n}}),h&&m&&(0,s.jsx)("div",{className:"absolute inset-0 bg-white bg-opacity-50 transition-opacity duration-300 opacity-0"})]})}},9155:function(e,r,a){"use strict";a.d(r,{C:function(){return o}});var s=a(7437);a(2265);var t=a(9213),c=a(9311);let l=(0,t.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function o(e){let{className:r,variant:a,...t}=e;return(0,s.jsx)("div",{className:(0,c.cn)(l({variant:a}),r),...t})}},6110:function(e,r,a){"use strict";a.d(r,{Ol:function(){return o},SZ:function(){return n},Zb:function(){return l},aY:function(){return i},ll:function(){return d}});var s=a(7437),t=a(2265),c=a(9311);let l=t.forwardRef((e,r)=>{let{className:a,...t}=e;return(0,s.jsx)("div",{ref:r,className:(0,c.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...t})});l.displayName="Card";let o=t.forwardRef((e,r)=>{let{className:a,...t}=e;return(0,s.jsx)("div",{ref:r,className:(0,c.cn)("flex flex-col space-y-1.5 p-6",a),...t})});o.displayName="CardHeader";let d=t.forwardRef((e,r)=>{let{className:a,...t}=e;return(0,s.jsx)("h3",{ref:r,className:(0,c.cn)("text-2xl font-semibold leading-none tracking-tight",a),...t})});d.displayName="CardTitle";let n=t.forwardRef((e,r)=>{let{className:a,...t}=e;return(0,s.jsx)("p",{ref:r,className:(0,c.cn)("text-sm text-muted-foreground",a),...t})});n.displayName="CardDescription";let i=t.forwardRef((e,r)=>{let{className:a,...t}=e;return(0,s.jsx)("div",{ref:r,className:(0,c.cn)("p-6 pt-0",a),...t})});i.displayName="CardContent";let m=t.forwardRef((e,r)=>{let{className:a,...t}=e;return(0,s.jsx)("div",{ref:r,className:(0,c.cn)("flex items-center p-6 pt-0",a),...t})});m.displayName="CardFooter"},6672:function(e,r,a){"use strict";a.d(r,{_:function(){return n}});var s=a(7437),t=a(2265),c=a(6743),l=a(9213),o=a(9311);let d=(0,l.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),n=t.forwardRef((e,r)=>{let{className:a,...t}=e;return(0,s.jsx)(c.f,{ref:r,className:(0,o.cn)(d(),a),...t})});n.displayName=c.f.displayName},6775:function(e,r,a){"use strict";a.d(r,{Z:function(){return o}});var s=a(7437),t=a(2265),c=a(6823),l=a(9311);let o=t.forwardRef((e,r)=>{let{className:a,orientation:t="horizontal",decorative:o=!0,...d}=e;return(0,s.jsx)(c.f,{ref:r,decorative:o,orientation:t,className:(0,l.cn)("shrink-0 bg-border","horizontal"===t?"h-[1px] w-full":"h-full w-[1px]",a),...d})});o.displayName=c.f.displayName},8188:function(e,r,a){"use strict";a.d(r,{OA:function(){return t}});let s=[{name:"Черный",value:"#000000"},{name:"Белый",value:"#FFFFFF"},{name:"Красный",value:"#FF0000"},{name:"Синий",value:"#0000FF"},{name:"Зеленый",value:"#008000"},{name:"Желтый",value:"#FFFF00"},{name:"Оранжевый",value:"#FFA500"},{name:"Фиолетовый",value:"#800080"},{name:"Розовый",value:"#FFC0CB"},{name:"Коричневый",value:"#A52A2A"},{name:"Серый",value:"#808080"},{name:"Бежевый",value:"#F5F5DC"},{name:"Бирюзовый",value:"#40E0D0"},{name:"Лавандовый",value:"#E6E6FA"},{name:"Мятный",value:"#98FB98"},{name:"Коралловый",value:"#FF7F50"},{name:"Индиго",value:"#4B0082"},{name:"Золотой",value:"#FFD700"},{name:"Серебряный",value:"#C0C0C0"},{name:"Бордовый",value:"#800000"}],t=e=>s.find(r=>r.name.toLowerCase()===e.toLowerCase())}},function(e){e.O(0,[312,85,740,148,548,971,864,560],function(){return e(e.s=6346)}),_N_E=e.O()}]);