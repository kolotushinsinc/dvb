(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[155],{8291:function(e,s,r){"use strict";r.d(s,{Z:function(){return a}});var t=r(5531);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t.Z)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},1738:function(e,s,r){"use strict";r.d(s,{Z:function(){return a}});var t=r(5531);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t.Z)("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]])},1961:function(e,s,r){"use strict";r.d(s,{Z:function(){return a}});var t=r(5531);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t.Z)("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]])},7621:function(e,s,r){Promise.resolve().then(r.bind(r,7687))},7687:function(e,s,r){"use strict";r.r(s),r.d(s,{default:function(){return b}});var t=r(7437),a=r(2265),l=r(4033),n=r(1088),i=r(1517),c=r(3023),d=r(6110),o=r(6775),x=r(9155),m=r(5531);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let u=(0,m.Z)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);var h=r(4322),f=r(1961),p=r(1738);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let j=(0,m.Z)("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);var g=r(8291),y=r(1396),v=r.n(y),N=r(164),b=e=>{var s;let{orderId:r}=e;(0,l.useRouter)();let[m,y]=(0,a.useState)(null),[b,w]=(0,a.useState)(!0),[k,C]=(0,a.useState)(null);(0,a.useEffect)(()=>{let e=async()=>{if(r)try{w(!0);let e=await N.h.orders.getOrderById(r);y(e),C(null)}catch(e){C("Не удалось загрузить информацию о заказе"),console.error("Order load error:",e)}finally{w(!1)}};e()},[r]);let Z=e=>new Intl.NumberFormat("ru-RU").format(e)+" ₽";return b?(0,t.jsx)("div",{className:"min-h-screen bg-cream-50 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto"}),(0,t.jsx)("p",{className:"mt-4 text-gray-600",children:"Загрузка информации о заказе..."})]})}):k||!m?(0,t.jsx)("div",{className:"min-h-screen bg-cream-50 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center max-w-md",children:[(0,t.jsx)("div",{className:"text-red-500 mb-4",children:(0,t.jsx)("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Ошибка"}),(0,t.jsx)("p",{className:"text-gray-600 mb-6",children:k||"Информация о заказе не найдена"}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[(0,t.jsx)(v(),{href:"/profile",children:(0,t.jsx)(c.z,{children:"Мои заказы"})}),(0,t.jsx)(v(),{href:"/catalog",children:(0,t.jsx)(c.z,{variant:"outline",children:"Перейти в каталог"})})]})]})}):(0,t.jsxs)("div",{className:"min-h-screen bg-cream-50",children:[(0,t.jsx)(n.default,{}),(0,t.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,t.jsxs)("div",{className:"text-center mb-10",children:[(0,t.jsx)("div",{className:"flex justify-center mb-4",children:(0,t.jsx)("div",{className:"rounded-full bg-green-100 p-3",children:(0,t.jsx)(u,{className:"h-12 w-12 text-green-600"})})}),(0,t.jsx)("h1",{className:"font-display text-3xl lg:text-4xl font-bold text-gray-900 mb-2",children:"Заказ успешно оформлен!"}),(0,t.jsx)("p",{className:"text-lg text-gray-600",children:"Спасибо за ваш заказ! Мы приняли его и уже начали обрабатывать."})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,t.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,t.jsxs)(d.Zb,{children:[(0,t.jsx)(d.Ol,{children:(0,t.jsxs)(d.ll,{className:"flex items-center",children:[(0,t.jsx)(h.Z,{className:"w-5 h-5 mr-2"}),"Заказ #",m._id.slice(-8)]})}),(0,t.jsxs)(d.aY,{children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Дата оформления"}),(0,t.jsx)("p",{className:"font-medium",children:(s=m.createdAt,new Date(s).toLocaleDateString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Статус"}),(0,t.jsx)(x.C,{className:(e=>{switch(e){case"pending":return"bg-yellow-100 text-yellow-800";case"processing":return"bg-blue-100 text-blue-800";case"shipped":return"bg-purple-100 text-purple-800";case"delivered":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}})(m.status),children:(e=>{switch(e){case"pending":return"В обработке";case"processing":return"Собирается";case"shipped":return"Отправлен";case"delivered":return"Доставлен";case"cancelled":return"Отменен";default:return e}})(m.status)})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h3",{className:"font-medium",children:"Состав заказа"}),m.items.map((e,s)=>(0,t.jsxs)("div",{className:"flex gap-4 py-3 border-b border-gray-100",children:[(0,t.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-md overflow-hidden",children:(0,t.jsx)("img",{src:e.product.mainImage||"",alt:e.product.name,className:"w-full h-full object-cover"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)(v(),{href:"/product/".concat(e.product.slug),className:"font-medium hover:text-primary",children:e.product.name}),(0,t.jsxs)("p",{className:"text-sm text-gray-500",children:[e.quantity," \xd7 ",Z(e.price)]}),(e.size||e.color)&&(0,t.jsxs)("div",{className:"flex gap-1 mt-1",children:[e.size&&(0,t.jsxs)(x.C,{variant:"secondary",className:"text-xs",children:["Размер: ",e.size]}),e.color&&(0,t.jsxs)(x.C,{variant:"secondary",className:"text-xs",children:["Цвет: ",e.color]})]})]}),(0,t.jsx)("div",{className:"text-right",children:(0,t.jsx)("p",{className:"font-medium",children:Z(e.price*e.quantity)})})]},s))]})]})]}),(0,t.jsxs)(d.Zb,{children:[(0,t.jsx)(d.Ol,{children:(0,t.jsxs)(d.ll,{className:"flex items-center",children:[(0,t.jsx)(f.Z,{className:"w-5 h-5 mr-2"}),"Информация о доставке"]})}),(0,t.jsx)(d.aY,{children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-medium mb-3",children:"Адрес доставки"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("p",{children:[m.shippingAddress.firstName," ",m.shippingAddress.lastName]}),(0,t.jsx)("p",{children:m.shippingAddress.address}),(0,t.jsxs)("p",{children:[m.shippingAddress.city,", ",m.shippingAddress.postalCode]}),(0,t.jsx)("p",{children:m.shippingAddress.country})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-medium mb-3",children:"Способ оплаты"}),(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(p.Z,{className:"w-5 h-5 mr-2 text-gray-500"}),(0,t.jsx)("span",{children:"Банковская карта"})]})]})]})})]})]}),(0,t.jsx)("div",{className:"lg:col-span-1",children:(0,t.jsxs)(d.Zb,{className:"sticky top-8",children:[(0,t.jsx)(d.Ol,{children:(0,t.jsx)(d.ll,{children:"Итоги заказа"})}),(0,t.jsxs)(d.aY,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{children:"Товары"}),(0,t.jsx)("span",{children:Z(m.total)})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{children:"Доставка"}),(0,t.jsx)("span",{children:"Бесплатно"})]})]}),(0,t.jsx)(o.Z,{}),(0,t.jsxs)("div",{className:"flex justify-between font-bold text-lg",children:[(0,t.jsx)("span",{children:"Итого"}),(0,t.jsx)("span",{children:Z(m.total)})]}),(0,t.jsxs)("div",{className:"pt-6 space-y-3",children:[(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Мы отправили информацию о заказе на вашу почту."}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Статус заказа можно отслеживать в личном кабинете."})]}),(0,t.jsxs)("div",{className:"space-y-3 pt-4",children:[(0,t.jsx)(v(),{href:"/profile",children:(0,t.jsxs)(c.z,{className:"w-full",children:[(0,t.jsx)(j,{className:"w-4 h-4 mr-2"}),"Личный кабинет"]})}),(0,t.jsx)(v(),{href:"/catalog",children:(0,t.jsxs)(c.z,{variant:"outline",className:"w-full",children:["Продолжить покупки",(0,t.jsx)(g.Z,{className:"w-4 h-4 ml-2"})]})})]})]})]})})]})]}),(0,t.jsx)(i.default,{})]})}},9155:function(e,s,r){"use strict";r.d(s,{C:function(){return i}});var t=r(7437);r(2265);var a=r(9213),l=r(9311);let n=(0,a.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i(e){let{className:s,variant:r,...a}=e;return(0,t.jsx)("div",{className:(0,l.cn)(n({variant:r}),s),...a})}},6110:function(e,s,r){"use strict";r.d(s,{Ol:function(){return i},SZ:function(){return d},Zb:function(){return n},aY:function(){return o},ll:function(){return c}});var t=r(7437),a=r(2265),l=r(9311);let n=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("div",{ref:s,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...a})});n.displayName="Card";let i=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("div",{ref:s,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",r),...a})});i.displayName="CardHeader";let c=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("h3",{ref:s,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",r),...a})});c.displayName="CardTitle";let d=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("p",{ref:s,className:(0,l.cn)("text-sm text-muted-foreground",r),...a})});d.displayName="CardDescription";let o=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("div",{ref:s,className:(0,l.cn)("p-6 pt-0",r),...a})});o.displayName="CardContent";let x=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("div",{ref:s,className:(0,l.cn)("flex items-center p-6 pt-0",r),...a})});x.displayName="CardFooter"},6775:function(e,s,r){"use strict";r.d(s,{Z:function(){return i}});var t=r(7437),a=r(2265),l=r(6823),n=r(9311);let i=a.forwardRef((e,s)=>{let{className:r,orientation:a="horizontal",decorative:i=!0,...c}=e;return(0,t.jsx)(l.f,{ref:s,decorative:i,orientation:a,className:(0,n.cn)("shrink-0 bg-border","horizontal"===a?"h-[1px] w-full":"h-full w-[1px]",r),...c})});i.displayName=l.f.displayName},6823:function(e,s,r){"use strict";r.d(s,{f:function(){return d}});var t=r(2265),a=r(9381),l=r(7437),n="horizontal",i=["horizontal","vertical"],c=t.forwardRef((e,s)=>{let{decorative:r,orientation:t=n,...c}=e,d=i.includes(t)?t:n;return(0,l.jsx)(a.WV.div,{"data-orientation":d,...r?{role:"none"}:{"aria-orientation":"vertical"===d?d:void 0,role:"separator"},...c,ref:s})});c.displayName="Separator";var d=c}},function(e){e.O(0,[312,351,936,548,971,864,560],function(){return e(e.s=7621)}),_N_E=e.O()}]);