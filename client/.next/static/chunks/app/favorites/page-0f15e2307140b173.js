(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[57],{9670:function(e,s,r){"use strict";r.d(s,{Z:function(){return t}});var a=r(5531);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,a.Z)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},9666:function(e,s,r){Promise.resolve().then(r.bind(r,8085))},8085:function(e,s,r){"use strict";r.r(s);var a=r(7437),t=r(2265),l=r(1088),n=r(1517),c=r(3023),i=r(6110),d=r(7810),o=r(9670),x=r(3505),m=r(1424),h=r(1396),u=r.n(h),f=r(164),g=r(8554);s.default=()=>{let[e,s]=(0,t.useState)([]),[r,h]=(0,t.useState)(!0),[p,j]=(0,t.useState)(null),{addItem:N}=(0,g.j)();(0,t.useEffect)(()=>{let e=async()=>{try{h(!0);let e=await f.h.favorites.get();s(e),j(null)}catch(e){j("Не удалось загрузить избранные товары"),console.error("Favorites load error:",e)}finally{h(!1)}};e()},[]);let v=e=>{N(e),m.Am.success("Товар добавлен в корзину!")},y=async e=>{try{await f.h.favorites.remove(e),s(s=>s.filter(s=>s._id!==e)),m.Am.success("Товар удален из избранного")}catch(e){m.Am.error("Не удалось удалить товар из избранного"),console.error("Remove favorite error:",e)}},w=e=>new Intl.NumberFormat("ru-RU").format(e)+" ₽";return r?(0,a.jsx)("div",{className:"min-h-screen bg-cream-50 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto"}),(0,a.jsx)("p",{className:"mt-4 text-gray-600",children:"Загрузка избранного..."})]})}):(0,a.jsxs)("div",{className:"min-h-screen bg-cream-50",children:[(0,a.jsx)(l.default,{}),(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsxs)("h1",{className:"font-display text-3xl lg:text-4xl font-bold text-gray-900 mb-4 flex items-center",children:[(0,a.jsx)(d.Z,{className:"mr-3 text-red-500"}),"Избранное"]}),(0,a.jsx)("p",{className:"text-lg text-gray-600",children:e.length>0?"В избранном ".concat(e.length," ").concat(1===e.length?"товар":e.length<5?"товара":"товаров"):"У вас пока нет избранных товаров"})]}),p&&(0,a.jsx)("div",{className:"mb-8 p-4 bg-red-50 text-red-700 rounded-lg",children:p}),e.length>0?(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:e.map(e=>{var s;return(0,a.jsxs)(i.Zb,{className:"group bg-white rounded-2xl shadow-md hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 overflow-hidden",children:[(0,a.jsxs)("div",{className:"relative overflow-hidden bg-gray-100 h-64",children:[(0,a.jsx)(u(),{href:"/product/".concat(e.slug),children:(0,a.jsx)("img",{src:e.mainImage||"",alt:e.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"})}),(0,a.jsxs)("div",{className:"absolute top-4 left-4 flex flex-col space-y-2",children:[e.isBrandNew&&(0,a.jsx)("span",{className:"bg-green-500 text-white text-xs px-2 py-1 rounded-full font-semibold",children:"NEW"}),e.isOnSale&&(0,a.jsx)("span",{className:"bg-accent text-white text-xs px-2 py-1 rounded-full font-semibold",children:"-20%"})]}),(0,a.jsxs)("div",{className:"absolute top-4 right-4 flex flex-col space-y-2",children:[(0,a.jsx)(c.z,{size:"icon",variant:"secondary",className:"w-10 h-10 rounded-full bg-white/90 backdrop-blur-sm hover:bg-white shadow-md text-red-500",onClick:()=>y(e._id),children:(0,a.jsx)(d.Z,{className:"w-4 h-4 fill-current"})}),(0,a.jsx)(u(),{href:"/product/".concat(e.slug),children:(0,a.jsx)(c.z,{size:"icon",variant:"secondary",className:"w-10 h-10 rounded-full bg-white/90 backdrop-blur-sm hover:bg-white shadow-md",children:(0,a.jsx)(o.Z,{className:"w-4 h-4"})})})]})]}),(0,a.jsxs)(i.aY,{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("span",{className:"text-xs text-gray-500 uppercase tracking-wide font-medium",children:null===(s=e.category)||void 0===s?void 0:s.name}),(0,a.jsx)("div",{className:"flex items-center space-x-1",children:e.rating&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("svg",{className:"w-4 h-4 fill-yellow-400 text-yellow-400",viewBox:"0 0 20 20",children:(0,a.jsx)("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}),(0,a.jsx)("span",{className:"text-sm text-gray-600",children:e.rating}),e.reviews&&(0,a.jsxs)("span",{className:"text-sm text-gray-400",children:["(",e.reviews.length,")"]})]})})]}),(0,a.jsx)(u(),{href:"/product/".concat(e.slug),children:(0,a.jsx)("h3",{className:"font-heading text-lg font-bold text-gray-900 mb-3 group-hover:text-primary transition-colors",children:e.name})}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("span",{className:"text-xl font-bold text-primary",children:w(e.price)}),e.originalPrice&&(0,a.jsx)("span",{className:"text-sm text-gray-500 line-through",children:w(e.originalPrice)})]}),(0,a.jsx)(c.z,{size:"icon",className:"rounded-full bg-primary hover:bg-indigo-700",onClick:()=>v(e),children:(0,a.jsx)(x.Z,{className:"w-4 h-4"})})]})]})]},e._id)})}):(0,a.jsxs)("div",{className:"text-center py-16 bg-white rounded-2xl shadow-sm",children:[(0,a.jsx)(d.Z,{className:"mx-auto h-16 w-16 text-gray-400"}),(0,a.jsx)("h3",{className:"mt-4 text-xl font-medium text-gray-900",children:"У вас нет избранных товаров"}),(0,a.jsx)("p",{className:"mt-2 text-gray-500 max-w-md mx-auto",children:"Добавляйте товары в избранное, чтобы не потерять их и вернуться к покупке позже."}),(0,a.jsx)("div",{className:"mt-8",children:(0,a.jsx)(u(),{href:"/catalog",children:(0,a.jsx)(c.z,{className:"px-6",children:"Перейти в каталог"})})})]})]}),(0,a.jsx)(n.default,{})]})}},6110:function(e,s,r){"use strict";r.d(s,{Ol:function(){return c},SZ:function(){return d},Zb:function(){return n},aY:function(){return o},ll:function(){return i}});var a=r(7437),t=r(2265),l=r(9311);let n=t.forwardRef((e,s)=>{let{className:r,...t}=e;return(0,a.jsx)("div",{ref:s,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...t})});n.displayName="Card";let c=t.forwardRef((e,s)=>{let{className:r,...t}=e;return(0,a.jsx)("div",{ref:s,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",r),...t})});c.displayName="CardHeader";let i=t.forwardRef((e,s)=>{let{className:r,...t}=e;return(0,a.jsx)("h3",{ref:s,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",r),...t})});i.displayName="CardTitle";let d=t.forwardRef((e,s)=>{let{className:r,...t}=e;return(0,a.jsx)("p",{ref:s,className:(0,l.cn)("text-sm text-muted-foreground",r),...t})});d.displayName="CardDescription";let o=t.forwardRef((e,s)=>{let{className:r,...t}=e;return(0,a.jsx)("div",{ref:s,className:(0,l.cn)("p-6 pt-0",r),...t})});o.displayName="CardContent";let x=t.forwardRef((e,s)=>{let{className:r,...t}=e;return(0,a.jsx)("div",{ref:s,className:(0,l.cn)("flex items-center p-6 pt-0",r),...t})});x.displayName="CardFooter"}},function(e){e.O(0,[312,351,936,548,971,864,560],function(){return e(e.s=9666)}),_N_E=e.O()}]);