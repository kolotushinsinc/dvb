(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{9670:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});var a=s(5531);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a.Z)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},5340:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});var a=s(5531);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a.Z)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]])},8138:function(e,t,s){Promise.resolve().then(s.bind(s,2355)),Promise.resolve().then(s.bind(s,5113)),Promise.resolve().then(s.bind(s,8243)),Promise.resolve().then(s.bind(s,1517)),Promise.resolve().then(s.bind(s,1088)),Promise.resolve().then(s.bind(s,7960))},2355:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return g}});var a=s(7437),r=s(9670),l=s(5531);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,l.Z)("Shirt",[["path",{d:"M20.38 3.46 16 2a4 4 0 0 1-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23z",key:"1wgbhj"}]]),c=(0,l.Z)("Footprints",[["path",{d:"M4 16v-2.38C4 11.5 2.97 10.5 3 8c.03-2.72 1.49-6 4.5-6C9.37 2 10 3.8 10 5.5c0 3.11-2 5.66-2 8.68V16a2 2 0 1 1-4 0Z",key:"1dudjm"}],["path",{d:"M20 20v-2.38c0-2.12 1.03-3.12 1-5.62-.03-2.72-1.49-6-4.5-6C14.63 6 14 7.8 14 9.5c0 3.11 2 5.66 2 8.68V20a2 2 0 1 0 4 0Z",key:"l2t8xc"}],["path",{d:"M16 17h4",key:"1dejxt"}],["path",{d:"M4 13h4",key:"1bwh8b"}]]),n=(0,l.Z)("Gem",[["path",{d:"M6 3h12l4 6-10 13L2 9Z",key:"1pcd5k"}],["path",{d:"M11 3 8 9l4 13 4-13-3-6",key:"1fcu3u"}],["path",{d:"M2 9h20",key:"16fsjt"}]]),o=(0,l.Z)("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]),d=(0,l.Z)("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);var x=s(1396),m=s.n(x),h=s(8850),u=s(8239),g=()=>{let{categories:e,loading:t}=(0,h.L)();if(t)return(0,a.jsx)("section",{className:"py-16 bg-cream-50",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,a.jsxs)("div",{className:"text-center mb-12",children:[(0,a.jsx)("h2",{className:"text-3xl md:text-4xl font-bold text-slate-700 mb-4",children:"Наши категории"}),(0,a.jsx)("p",{className:"text-lg text-slate-600 max-w-2xl mx-auto",children:"Откройте для себя уникальную коллекцию товаров со всего мира"})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[1,2,3,4,5,6].map(e=>(0,a.jsxs)("div",{className:"bg-white rounded-2xl shadow-md p-6",children:[(0,a.jsx)("div",{className:"h-48 bg-gray-200 rounded-lg mb-4 animate-pulse"}),(0,a.jsx)("div",{className:"h-6 bg-gray-200 rounded mb-2 animate-pulse"}),(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded w-3/4 animate-pulse"})]},e))})]})});if(0===e.length)return null;let s=e=>{switch(e){case"glasses":default:return{icon:r.Z,color:"from-primary to-indigo-700",textColor:"text-primary"};case"clothing":return{icon:i,color:"from-accent to-brick-600",textColor:"text-accent"};case"shoes":return{icon:c,color:"from-gray-700 to-gray-900",textColor:"text-gray-700"};case"accessories":return{icon:n,color:"from-purple-600 to-purple-800",textColor:"text-purple-600"};case"sale":return{icon:o,color:"from-red-500 to-red-700",textColor:"text-red-500"};case"new":return{icon:d,color:"from-green-500 to-green-700",textColor:"text-green-500"}}};return(0,a.jsx)("section",{className:"py-16 bg-cream-50",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,a.jsxs)("div",{className:"text-center mb-12",children:[(0,a.jsx)("h2",{className:"text-3xl md:text-4xl font-bold text-slate-700 mb-4",children:"Наши категории"}),(0,a.jsx)("p",{className:"text-lg text-slate-600 max-w-2xl mx-auto",children:"Откройте для себя уникальную коллекцию товаров со всего мира"})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:e.map(e=>{let{icon:t,color:r,textColor:l}=s(e.slug),i="sale"===e.slug?"/sale":"new"===e.slug?"/catalog/new":"/catalog/".concat(e.slug);return(0,a.jsx)(m(),{href:i,children:(0,a.jsxs)("div",{className:"group relative overflow-hidden rounded-2xl bg-white shadow-md hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1",children:[(0,a.jsxs)("div",{className:"h-48 relative",children:[(0,a.jsx)(u.d,{src:e.image||"https://images.pexels.com/photos/1895943/pexels-photo-1895943.jpeg?auto=compress&cs=tinysrgb&w=400",alt:e.name,width:400,height:192,className:"w-full h-full object-cover"}),(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t ".concat(r," opacity-80 group-hover:opacity-90 transition-opacity")}),(0,a.jsx)("div",{className:"absolute top-4 right-4 bg-white/20 backdrop-blur-sm p-3 rounded-full",children:(0,a.jsx)(t,{className:"w-6 h-6 text-white"})})]}),(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsx)("h3",{className:"font-heading text-xl font-bold text-gray-900 mb-2 group-hover:text-primary transition-colors",children:e.name}),(0,a.jsx)("p",{className:"text-gray-600 mb-4",children:e.description||"Просмотреть товары"}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm font-semibold ".concat(l),children:"Перейти в каталог"}),(0,a.jsx)("div",{className:"w-8 h-8 rounded-full bg-gray-100 group-hover:bg-primary group-hover:text-white flex items-center justify-center transition-all",children:(0,a.jsx)("span",{className:"text-sm",children:"→"})})]})]})]})},e._id)})})]})})}},5113:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return l}});var a=s(7437),r=s(2265);function l(){let[e,t]=(0,r.useState)(0),s=[{title:"Эксклюзивные очки из Китая",subtitle:"Уникальные модели, которых нет больше нигде",image:"https://images.pexels.com/photos/701877/pexels-photo-701877.jpeg?auto=compress&cs=tinysrgb&w=1200",buttonText:"Смотреть коллекцию"},{title:"Европейская одежда премиум-класса",subtitle:"Качество и стиль от ведущих брендов",image:"https://images.pexels.com/photos/996329/pexels-photo-996329.jpeg?auto=compress&cs=tinysrgb&w=1200",buttonText:"Выбрать одежду"},{title:"Стильная обувь из Европы и Турции",subtitle:"Комфорт и элегантность в каждой паре",image:"https://images.pexels.com/photos/1598505/pexels-photo-1598505.jpeg?auto=compress&cs=tinysrgb&w=1200",buttonText:"Подобрать обувь"}];return(0,r.useEffect)(()=>{let e=setInterval(()=>{t(e=>(e+1)%s.length)},5e3);return()=>clearInterval(e)},[]),(0,a.jsxs)("section",{className:"relative h-[600px] hero-gradient overflow-hidden",children:[s.map((t,s)=>(0,a.jsxs)("div",{className:"absolute inset-0 transition-opacity duration-1000 ".concat(s===e?"opacity-100":"opacity-0"),children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-40"}),(0,a.jsx)("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:"url(".concat(t.image,")")}}),(0,a.jsx)("div",{className:"relative h-full flex items-center justify-center text-center text-white px-4",children:(0,a.jsxs)("div",{className:"max-w-4xl",children:[(0,a.jsx)("h1",{className:"text-5xl md:text-6xl font-bold mb-6 leading-tight",children:t.title}),(0,a.jsx)("p",{className:"text-xl md:text-2xl mb-8 opacity-90",children:t.subtitle}),(0,a.jsx)("button",{className:"btn-primary px-8 py-4 rounded-lg text-lg font-semibold",children:t.buttonText})]})})]},s)),(0,a.jsx)("div",{className:"absolute bottom-6 left-1/2 transform -translate-x-1/2 flex space-x-3",children:s.map((s,r)=>(0,a.jsx)("button",{onClick:()=>t(r),className:"w-3 h-3 rounded-full transition-all duration-300 ".concat(r===e?"bg-white":"bg-white bg-opacity-40")},r))})]})}},8243:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return b}});var a=s(7437),r=s(2265),l=s(3023),i=s(7810),c=s(9670),n=s(5340),o=s(164);let d=async e=>{try{return await o.h.products.getAll(e)}catch(e){return console.error("Error fetching products:",e),{data:[],summary:{total:0,page:1,pages:0}}}};var x=s(1609),m=s(1424),h=s(1396),u=s.n(h),g=s(9613),p=s(7960),y=s(6036),v=s(3241),f=s(1945),b=()=>{let[e,t]=(0,r.useState)(null),[s,o]=(0,r.useState)([]),[h,b]=(0,r.useState)(!0),{toggleFavorite:j,isFavorite:N,isLoggedIn:w,showAuthModal:k,setShowAuthModal:A}=(0,x.r)();(0,r.useEffect)(()=>{let e=async()=>{try{b(!0);let e=await d({limit:6});o(e.data)}catch(e){console.error("Error fetching products:",e),m.Am.error("Не удалось загрузить товары")}finally{b(!1)}};e()},[]);let C=async(e,t)=>{if(t.preventDefault(),t.stopPropagation(),!w){A(!0);return}try{await j(e._id);let t=N(e._id)?"Товар удален из избранного":"Товар добавлен в избранное";m.Am.success(t)}catch(e){m.Am.error("Не удалось добавить товар в избранное")}},M=e=>new Intl.NumberFormat("ru-RU").format(e)+" ₽";return(0,a.jsxs)("section",{className:"py-16 bg-cream-100",children:[(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,a.jsxs)("div",{className:"text-center mb-12",children:[(0,a.jsx)("h2",{className:"text-3xl md:text-4xl font-bold text-slate-700 mb-4",children:"Наши товары"}),(0,a.jsx)("p",{className:"text-lg text-slate-600",children:"Все товары из нашего ассортимента - очки, одежда и обувь"})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:h?Array.from({length:6}).map((e,t)=>(0,a.jsx)(g.q4,{},t)):s.length>0?s.map((s,r)=>(0,a.jsx)(p.FadeIn,{delay:.1*r,children:(0,a.jsxs)("div",{className:"group bg-white rounded-2xl shadow-md hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 overflow-hidden",onMouseEnter:()=>t(s._id),onMouseLeave:()=>t(null),children:[(0,a.jsxs)("div",{className:"relative overflow-hidden bg-gray-100 h-64",children:[(0,a.jsx)(u(),{href:"/product/".concat(s.slug),children:(0,a.jsx)(f.w,{src:s.mainImage||"/placeholder-product.jpg",thumbnailSrc:s.thumbnailUrl,alt:s.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"})}),(0,a.jsxs)("div",{className:"absolute top-4 left-4 flex flex-col space-y-2",children:[s.isBrandNew&&(0,a.jsx)("span",{className:"bg-green-500 text-white text-xs px-2 py-1 rounded-full font-semibold",children:"NEW"}),s.isOnSale&&(0,a.jsx)("span",{className:"bg-accent text-white text-xs px-2 py-1 rounded-full font-semibold",children:"-20%"})]}),(0,a.jsxs)("div",{className:"absolute top-4 right-4 flex flex-col space-y-2 transition-all duration-300 ".concat(e===s._id?"opacity-100 translate-x-0":"opacity-0 translate-x-4"),children:[(0,a.jsx)(l.z,{size:"icon",variant:"secondary",className:"w-10 h-10 rounded-full bg-white/90 backdrop-blur-sm hover:bg-white shadow-md ".concat(N(s._id)?"text-red-500 hover:text-red-600":"text-gray-600 hover:text-red-500"),onClick:e=>C(s,e),children:(0,a.jsx)(i.Z,{className:"w-4 h-4 ".concat(N(s._id)?"fill-current":"")})}),(0,a.jsx)(v.i,{product:s,children:(0,a.jsx)(l.z,{size:"icon",variant:"secondary",className:"w-10 h-10 rounded-full bg-white/90 backdrop-blur-sm hover:bg-white shadow-md text-gray-600 hover:text-blue-500",onClick:e=>{e.preventDefault(),e.stopPropagation()},children:(0,a.jsx)(c.Z,{className:"w-4 h-4"})})})]}),(0,a.jsx)("div",{className:"absolute bottom-4 left-4",children:(0,a.jsx)("span",{className:"bg-white/90 backdrop-blur-sm text-gray-700 text-xs px-3 py-1 rounded-full font-medium",children:s.country||"Россия"})})]}),(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("span",{className:"text-sm text-gray-500 uppercase tracking-wide font-medium",children:s.categoryId?s.categoryId.name:s.category?s.category.name:"Категория"}),(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)(n.Z,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),(0,a.jsx)("span",{className:"text-sm text-gray-600",children:s.rating||0}),(0,a.jsxs)("span",{className:"text-sm text-gray-400",children:["(",s.reviewsCount||0,")"]})]})]}),(0,a.jsx)(u(),{href:"/product/".concat(s.slug),children:(0,a.jsx)("h3",{className:"font-heading text-lg font-bold text-gray-900 mb-3 group-hover:text-primary transition-colors",children:s.name})}),(0,a.jsx)("div",{className:"flex items-center justify-between",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("span",{className:"text-xl font-bold text-gray-900",children:M(s.price)}),s.originalPrice&&(0,a.jsx)("span",{className:"text-sm text-gray-500 line-through",children:M(s.originalPrice)})]})})]})]})},s._id)):(0,a.jsx)("div",{className:"col-span-3 text-center py-12",children:(0,a.jsxs)("div",{className:"bg-white rounded-2xl shadow-md p-8",children:[(0,a.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Товары скоро появятся"}),(0,a.jsx)("p",{className:"text-gray-600 mb-6",children:"Мы сейчас обновляем наш ассортимент. Пожалуйста, зайдите позже, чтобы увидеть все товары."}),(0,a.jsx)(u(),{href:"/catalog",children:(0,a.jsx)(l.z,{size:"lg",variant:"outline",className:"bg-white hover:bg-gray-50",children:"Смотреть весь каталог"})})]})})}),(0,a.jsx)("div",{className:"text-center mt-12",children:(0,a.jsx)(u(),{href:"/catalog",children:(0,a.jsx)(l.z,{size:"lg",variant:"outline",className:"bg-white hover:bg-gray-50",children:"Смотреть весь каталог"})})})]}),(0,a.jsx)(y.Q,{isOpen:k,onClose:()=>A(!1),message:"Для добавления товара в избранное необходимо войти в систему"})]})}},9613:function(e,t,s){"use strict";s.d(t,{mA:function(){return l},q4:function(){return r}});var a=s(7437);s(2265);let r=e=>{let{count:t=1,className:s=""}=e;return(0,a.jsx)("div",{className:"space-y-4 ".concat(s),children:Array.from({length:t}).map((e,t)=>(0,a.jsx)("div",{className:"bg-white rounded-lg shadow p-4 animate-pulse",children:(0,a.jsxs)("div",{className:"flex space-x-4",children:[(0,a.jsx)("div",{className:"rounded-md bg-gray-200 h-24 w-24"}),(0,a.jsxs)("div",{className:"flex-1 space-y-4",children:[(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded"}),(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded w-5/6"})]}),(0,a.jsx)("div",{className:"h-6 bg-gray-200 rounded w-1/3"})]})]})},t))})},l=e=>{let{count:t=1,className:s=""}=e;return(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 ".concat(s),children:Array.from({length:t}).map((e,t)=>(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow overflow-hidden animate-pulse",children:[(0,a.jsx)("div",{className:"bg-gray-200 h-48 w-full"}),(0,a.jsxs)("div",{className:"p-4 space-y-3",children:[(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/2"}),(0,a.jsx)("div",{className:"h-6 bg-gray-200 rounded w-1/3"})]})]},t))})}},8239:function(e,t,s){"use strict";s.d(t,{d:function(){return c}});var a=s(7437),r=s(2265),l=s(6691),i=s.n(l);let c=e=>{let{src:t,alt:s,width:l=400,height:c=300,className:n="",priority:o=!1,placeholder:d="empty",blurDataURL:x}=e,[m,h]=(0,r.useState)(!0),[u,g]=(0,r.useState)(!1),p=t?t.replace("https://api.dvberry.ru",""):t;return(0,a.jsxs)("div",{className:"relative overflow-hidden ".concat(n),children:[m&&(0,a.jsx)("div",{className:"absolute inset-0 bg-gray-200 animate-pulse flex items-center justify-center",children:(0,a.jsx)("div",{className:"text-gray-400 text-sm",children:"Загрузка..."})}),u?(0,a.jsx)("div",{className:"absolute inset-0 bg-gray-200 flex items-center justify-center",children:(0,a.jsx)("div",{className:"text-gray-400 text-sm",children:"Изображение недоступно"})}):(0,a.jsx)(i(),{src:p,alt:s,width:l,height:c,className:"transition-opacity duration-300 ".concat(m?"opacity-0":"opacity-100"),priority:o,placeholder:d,blurDataURL:x,onLoadingComplete:()=>h(!1),onError:()=>g(!0),sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw"})]})}},8850:function(e,t,s){"use strict";s.d(t,{L:function(){return c}});var a=s(2265),r=s(164);let l=null,i=!1,c=()=>{let[e,t]=(0,a.useState)(l||[]),[s,c]=(0,a.useState)(!l);return(0,a.useEffect)(()=>{if(l){t(l),c(!1);return}if(i)return;let e=async()=>{i=!0;try{console.log("Loading categories...");let e=await r.h.categories.getAll();console.log("Categories API response:",e);let s=[];Array.isArray(e)?(s=e.filter(e=>e.isActive),console.log("Using direct array format")):e&&e.data&&Array.isArray(e.data)?(s=e.data.filter(e=>e.isActive),console.log("Using data format")):e&&e.categories&&Array.isArray(e.categories)&&(s=e.categories.filter(e=>e.isActive),console.log("Using categories format")),s=s.map(e=>({...e,level:e.level||0,parentId:e.parentId||void 0,children:e.children||[]})),console.log("Formatted categories:",s),l=s,t(s)}catch(e){console.error("Failed to load categories:",e)}finally{c(!1),i=!1}};e()},[]),{categories:e,loading:s}}}},function(e){e.O(0,[312,351,787,564,936,548,806,971,864,560],function(){return e(e.s=8138)}),_N_E=e.O()}]);